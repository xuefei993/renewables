{"ast":null,"code":"import React from'react';import{validateChartData,calculateDataRange,generateChartPoints,CHART_CONFIG}from'./chartUtils';import ChartSVG from'./ChartSVG';import ChartTooltip from'./ChartTooltip';import ChartStats from'./ChartStats';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChartRenderer=_ref=>{let{climateData,tooltip,showTooltip,hideTooltip}=_ref;// 验证数据\nconst validation=validateChartData(climateData);if(!validation.isValid){return validation.errorComponent;}const{width:chartWidth,height:chartHeight,padding}=CHART_CONFIG;const months=climateData.solar;// 计算太阳辐射的范围和比例\nconst solarRange=calculateDataRange(months);const tempRange=calculateDataRange(climateData.temperature);// 生成图表数据点\nconst solarPoints=generateChartPoints(months,{chartWidth,chartHeight,padding,dataMin:solarRange.min,dataRange:solarRange.range});const tempPoints=generateChartPoints(climateData.temperature,{chartWidth,chartHeight,padding,dataMin:tempRange.min,dataRange:tempRange.range});return/*#__PURE__*/_jsxs(\"div\",{className:\"combined-chart-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-legend\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-color\",style:{backgroundColor:'#f1c40f'}}),/*#__PURE__*/_jsx(\"span\",{children:\"Solar Radiation (kWh/m\\xB2/day)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-color\",style:{backgroundColor:'#3498db'}}),/*#__PURE__*/_jsx(\"span\",{children:\"Temperature (\\xB0C)\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-wrapper\",children:/*#__PURE__*/_jsx(ChartSVG,{solarPoints:solarPoints,tempPoints:tempPoints,months:months,solarMin:solarRange.min,solarRange:solarRange.range,tempMin:tempRange.min,tempRange:tempRange.range,showTooltip:showTooltip,hideTooltip:hideTooltip})}),/*#__PURE__*/_jsx(ChartTooltip,{tooltip:tooltip}),/*#__PURE__*/_jsx(ChartStats,{climateData:climateData})]});};export default ChartRenderer;","map":{"version":3,"names":["React","validateChartData","calculateDataRange","generateChartPoints","CHART_CONFIG","ChartSVG","ChartTooltip","ChartStats","jsx","_jsx","jsxs","_jsxs","ChartRenderer","_ref","climateData","tooltip","showTooltip","hideTooltip","validation","isValid","errorComponent","width","chartWidth","height","chartHeight","padding","months","solar","solarRange","tempRange","temperature","solarPoints","dataMin","min","dataRange","range","tempPoints","className","children","style","backgroundColor","solarMin","tempMin"],"sources":["/Users/xuefei/renewables/calculator/renewableCalculator.ui/src/components/steps/address-input/chart/ChartRenderer.js"],"sourcesContent":["import React from 'react';\nimport { \n  validateChartData, \n  calculateDataRange, \n  generateChartPoints,\n  CHART_CONFIG \n} from './chartUtils';\nimport ChartSVG from './ChartSVG';\nimport ChartTooltip from './ChartTooltip';\nimport ChartStats from './ChartStats';\n\nconst ChartRenderer = ({ climateData, tooltip, showTooltip, hideTooltip }) => {\n  // 验证数据\n  const validation = validateChartData(climateData);\n  if (!validation.isValid) {\n    return validation.errorComponent;\n  }\n\n  const { width: chartWidth, height: chartHeight, padding } = CHART_CONFIG;\n  const months = climateData.solar;\n\n  // 计算太阳辐射的范围和比例\n  const solarRange = calculateDataRange(months);\n  const tempRange = calculateDataRange(climateData.temperature);\n\n  // 生成图表数据点\n  const solarPoints = generateChartPoints(months, {\n    chartWidth,\n    chartHeight,\n    padding,\n    dataMin: solarRange.min,\n    dataRange: solarRange.range\n  });\n\n  const tempPoints = generateChartPoints(climateData.temperature, {\n    chartWidth,\n    chartHeight,\n    padding,\n    dataMin: tempRange.min,\n    dataRange: tempRange.range\n  });\n\n  return (\n    <div className=\"combined-chart-container\">\n      {/* 图例 */}\n      <div className=\"chart-legend\">\n        <div className=\"legend-item\">\n          <div className=\"legend-color\" style={{ backgroundColor: '#f1c40f' }}></div>\n          <span>Solar Radiation (kWh/m²/day)</span>\n        </div>\n        <div className=\"legend-item\">\n          <div className=\"legend-color\" style={{ backgroundColor: '#3498db' }}></div>\n          <span>Temperature (°C)</span>\n        </div>\n      </div>\n\n      <div className=\"chart-wrapper\">\n        <ChartSVG\n          solarPoints={solarPoints}\n          tempPoints={tempPoints}\n          months={months}\n          solarMin={solarRange.min}\n          solarRange={solarRange.range}\n          tempMin={tempRange.min}\n          tempRange={tempRange.range}\n          showTooltip={showTooltip}\n          hideTooltip={hideTooltip}\n        />\n      </div>\n      \n      <ChartTooltip tooltip={tooltip} />\n      \n      <ChartStats climateData={climateData} />\n    </div>\n  );\n};\n\nexport default ChartRenderer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}