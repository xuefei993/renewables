{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import EnergyDemandChart from\"../EnergyDemandChart\";import SolarPotentialSummary from\"./SolarPotentialSummary\";import SystemConfiguration from\"./SystemConfiguration\";import{prepareUserData}from\"./resultsUtils\";import\"../../styles/energy-demand.css\";import\"../../styles/results.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Results=_ref=>{var _data$addedRoofs;let{data,calculationResult,setCalculationResult,onBack}=_ref;const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('summary');// 'summary' or 'configuration'\n// Tab switching handler\nconst handleTabChange=tab=>{setActiveTab(tab);};useEffect(()=>{if(data){setLoading(false);}},[data]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"results-loading\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading results...\"})});}if(!data){return/*#__PURE__*/_jsx(\"div\",{className:\"results-error\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No data available for results.\"})});}const selectedRoofs=data.selectedRoofs||((_data$addedRoofs=data.addedRoofs)===null||_data$addedRoofs===void 0?void 0:_data$addedRoofs.filter(roof=>roof.selected))||[];const userData=prepareUserData(data);console.log('Results data:',data);// Debug log\nconsole.log('Selected roofs:',selectedRoofs);// Debug log\nconsole.log('User data for energy demand:',userData);// Debug log\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"results-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Renewable Energy System Results\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"results-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab==='summary'?'active':''),onClick:()=>handleTabChange('summary'),children:\"Property Summary\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab==='configuration'?'active':''),onClick:()=>handleTabChange('configuration'),children:\"System Configuration\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[activeTab==='summary'&&/*#__PURE__*/_jsxs(\"div\",{className:\"property-summary-tab\",children:[/*#__PURE__*/_jsx(SolarPotentialSummary,{selectedRoofs:selectedRoofs}),/*#__PURE__*/_jsx(\"div\",{className:\"results-section energy-demand-section\",children:/*#__PURE__*/_jsx(EnergyDemandChart,{userData:userData})})]}),activeTab==='configuration'&&/*#__PURE__*/_jsx(SystemConfiguration,{userData:userData})]}),/*#__PURE__*/_jsx(\"div\",{className:\"results-placeholder\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Additional results sections will be implemented here...\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"button-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onBack,children:\"Back to Tariffs\"})})]});};export default Results;","map":{"version":3,"names":["React","useEffect","useState","EnergyDemandChart","SolarPotentialSummary","SystemConfiguration","prepareUserData","jsx","_jsx","jsxs","_jsxs","Results","_ref","_data$addedRoofs","data","calculationResult","setCalculationResult","onBack","loading","setLoading","activeTab","setActiveTab","handleTabChange","tab","className","children","selectedRoofs","addedRoofs","filter","roof","selected","userData","console","log","concat","onClick","type"],"sources":["/Users/xuefei/Desktop/calculator00/calculator/renewableCalculator.ui/src/components/steps/Results.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport EnergyDemandChart from \"../EnergyDemandChart\";\nimport SolarPotentialSummary from \"./SolarPotentialSummary\";\nimport SystemConfiguration from \"./SystemConfiguration\";\nimport { prepareUserData } from \"./resultsUtils\";\nimport \"../../styles/energy-demand.css\";\nimport \"../../styles/results.css\";\n\nconst Results = ({ data, calculationResult, setCalculationResult, onBack }) => {\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('summary'); // 'summary' or 'configuration'\n\n  // Tab switching handler\n  const handleTabChange = (tab) => {\n    setActiveTab(tab);\n  };\n\n  useEffect(() => {\n    if (data) {\n      setLoading(false);\n    }\n  }, [data]);\n\n  if (loading) {\n    return (\n      <div className=\"results-loading\">\n        <p>Loading results...</p>\n      </div>\n    );\n  }\n\n  if (!data) {\n    return (\n      <div className=\"results-error\">\n        <p>No data available for results.</p>\n      </div>\n    );\n  }\n\n  const selectedRoofs = data.selectedRoofs || data.addedRoofs?.filter(roof => roof.selected) || [];\n  const userData = prepareUserData(data);\n\n  console.log('Results data:', data); // Debug log\n  console.log('Selected roofs:', selectedRoofs); // Debug log\n  console.log('User data for energy demand:', userData); // Debug log\n\n  return (\n    <div className=\"results-container\">\n      <h2>Renewable Energy System Results</h2>\n\n      {/* Tab Navigation */}\n      <div className=\"results-tabs\">\n        <button\n          className={`tab-button ${activeTab === 'summary' ? 'active' : ''}`}\n          onClick={() => handleTabChange('summary')}\n        >\n          Property Summary\n        </button>\n        <button\n          className={`tab-button ${activeTab === 'configuration' ? 'active' : ''}`}\n          onClick={() => handleTabChange('configuration')}\n        >\n          System Configuration\n        </button>\n      </div>\n\n      {/* Tab Content */}\n      <div className=\"tab-content\">\n\n        {/* Property Summary Tab */}\n        {activeTab === 'summary' && (\n          <div className=\"property-summary-tab\">\n            <SolarPotentialSummary selectedRoofs={selectedRoofs} />\n            {/* Energy Demand Section */}\n            <div className=\"results-section energy-demand-section\">\n              <EnergyDemandChart userData={userData} />\n            </div>\n          </div>\n        )}\n\n        {/* System Configuration Tab */}\n        {activeTab === 'configuration' && (\n          <SystemConfiguration userData={userData} />\n        )}\n\n      </div>\n\n      {/* Placeholder for other results sections */}\n      <div className=\"results-placeholder\">\n        <p>Additional results sections will be implemented here...</p>\n      </div>\n\n      <div className=\"button-group\">\n        <button type=\"button\" className=\"btn btn-secondary\" onClick={onBack}>\n          Back to Tariffs\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Results; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}