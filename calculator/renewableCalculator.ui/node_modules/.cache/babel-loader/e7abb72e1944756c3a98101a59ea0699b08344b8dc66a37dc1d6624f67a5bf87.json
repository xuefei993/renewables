{"ast":null,"code":"var _jsxFileName = \"/Users/xuefei/Desktop/calculator00/calculator/renewableCalculator.ui/src/components/steps/roof-condition/Compass.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Compass = () => {\n  _s();\n  const [position, setPosition] = useState({\n    x: 20,\n    y: 20\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState({\n    x: 0,\n    y: 0\n  });\n  const compassRef = useRef(null);\n\n  // Correct the direction angles (0° = North, clockwise)\n  const directions = [{\n    label: 'N',\n    angle: 0,\n    fullName: 'North'\n  }, {\n    label: 'NNE',\n    angle: 22.5,\n    fullName: 'North-Northeast'\n  }, {\n    label: 'NE',\n    angle: 45,\n    fullName: 'Northeast'\n  }, {\n    label: 'ENE',\n    angle: 67.5,\n    fullName: 'East-Northeast'\n  }, {\n    label: 'E',\n    angle: 90,\n    fullName: 'East'\n  }, {\n    label: 'ESE',\n    angle: 112.5,\n    fullName: 'East-Southeast'\n  }, {\n    label: 'SE',\n    angle: 135,\n    fullName: 'Southeast'\n  }, {\n    label: 'SSE',\n    angle: 157.5,\n    fullName: 'South-Southeast'\n  }, {\n    label: 'S',\n    angle: 180,\n    fullName: 'South'\n  }, {\n    label: 'SSW',\n    angle: 202.5,\n    fullName: 'South-Southwest'\n  }, {\n    label: 'SW',\n    angle: 225,\n    fullName: 'Southwest'\n  }, {\n    label: 'WSW',\n    angle: 247.5,\n    fullName: 'West-Southwest'\n  }, {\n    label: 'W',\n    angle: 270,\n    fullName: 'West'\n  }, {\n    label: 'WNW',\n    angle: 292.5,\n    fullName: 'West-Northwest'\n  }, {\n    label: 'NW',\n    angle: 315,\n    fullName: 'Northwest'\n  }, {\n    label: 'NNW',\n    angle: 337.5,\n    fullName: 'North-Northwest'\n  }];\n  const handleMouseDown = e => {\n    setIsDragging(true);\n    setDragStart({\n      x: e.clientX - position.x,\n      y: e.clientY - position.y\n    });\n    e.preventDefault();\n  };\n  const handleMouseMove = e => {\n    var _compassRef$current;\n    if (!isDragging) return;\n    const newX = e.clientX - dragStart.x;\n    const newY = e.clientY - dragStart.y;\n\n    // Get map container bounds to constrain movement\n    const mapContainer = (_compassRef$current = compassRef.current) === null || _compassRef$current === void 0 ? void 0 : _compassRef$current.closest('.map-with-compass');\n    if (mapContainer) {\n      const rect = mapContainer.getBoundingClientRect();\n      const compassSize = 180; // Size of compass container\n\n      const constrainedX = Math.max(0, Math.min(newX, rect.width - compassSize));\n      const constrainedY = Math.max(0, Math.min(newY, rect.height - compassSize));\n      setPosition({\n        x: constrainedX,\n        y: constrainedY\n      });\n    }\n  };\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n  useEffect(() => {\n    if (isDragging) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n      return () => {\n        document.removeEventListener('mousemove', handleMouseMove);\n        document.removeEventListener('mouseup', handleMouseUp);\n      };\n    }\n  }, [isDragging, dragStart]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: compassRef,\n    className: `compass-container draggable ${isDragging ? 'dragging' : ''}`,\n    style: {\n      left: `${position.x}px`,\n      top: `${position.y}px`\n    },\n    onMouseDown: handleMouseDown,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"compass\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"compass-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"compass-needle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), directions.map((direction, index) => {\n        const radius = 65; // Increased radius for larger compass\n        const x = Math.sin(direction.angle * Math.PI / 180) * radius;\n        const y = -Math.cos(direction.angle * Math.PI / 180) * radius;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `compass-direction ${direction.label === 'N' || direction.label === 'S' || direction.label === 'E' || direction.label === 'W' ? 'cardinal' : 'intermediate'}`,\n          style: {\n            transform: `translate(${x}px, ${y}px)`\n          },\n          title: direction.fullName,\n          children: direction.label\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"compass-label\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\uD83D\\uDCCD Compass\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        children: \"Drag to move \\u2022 Hover for directions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(Compass, \"BEyfazUqWyXUuEnXzQSkF+JRYYY=\");\n_c = Compass;\nexport default Compass;\nvar _c;\n$RefreshReg$(_c, \"Compass\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","Compass","_s","position","setPosition","x","y","isDragging","setIsDragging","dragStart","setDragStart","compassRef","directions","label","angle","fullName","handleMouseDown","e","clientX","clientY","preventDefault","handleMouseMove","_compassRef$current","newX","newY","mapContainer","current","closest","rect","getBoundingClientRect","compassSize","constrainedX","Math","max","min","width","constrainedY","height","handleMouseUp","document","addEventListener","removeEventListener","ref","className","style","left","top","onMouseDown","children","fileName","_jsxFileName","lineNumber","columnNumber","map","direction","index","radius","sin","PI","cos","transform","title","_c","$RefreshReg$"],"sources":["/Users/xuefei/Desktop/calculator00/calculator/renewableCalculator.ui/src/components/steps/roof-condition/Compass.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\nconst Compass = () => {\n  const [position, setPosition] = useState({ x: 20, y: 20 });\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\n  const compassRef = useRef(null);\n\n  // Correct the direction angles (0° = North, clockwise)\n  const directions = [\n    { label: 'N', angle: 0, fullName: 'North' },\n    { label: 'NNE', angle: 22.5, fullName: 'North-Northeast' },\n    { label: 'NE', angle: 45, fullName: 'Northeast' },\n    { label: 'ENE', angle: 67.5, fullName: 'East-Northeast' },\n    { label: 'E', angle: 90, fullName: 'East' },\n    { label: 'ESE', angle: 112.5, fullName: 'East-Southeast' },\n    { label: 'SE', angle: 135, fullName: 'Southeast' },\n    { label: 'SSE', angle: 157.5, fullName: 'South-Southeast' },\n    { label: 'S', angle: 180, fullName: 'South' },\n    { label: 'SSW', angle: 202.5, fullName: 'South-Southwest' },\n    { label: 'SW', angle: 225, fullName: 'Southwest' },\n    { label: 'WSW', angle: 247.5, fullName: 'West-Southwest' },\n    { label: 'W', angle: 270, fullName: 'West' },\n    { label: 'WNW', angle: 292.5, fullName: 'West-Northwest' },\n    { label: 'NW', angle: 315, fullName: 'Northwest' },\n    { label: 'NNW', angle: 337.5, fullName: 'North-Northwest' }\n  ];\n\n  const handleMouseDown = (e) => {\n    setIsDragging(true);\n    setDragStart({\n      x: e.clientX - position.x,\n      y: e.clientY - position.y\n    });\n    e.preventDefault();\n  };\n\n  const handleMouseMove = (e) => {\n    if (!isDragging) return;\n    \n    const newX = e.clientX - dragStart.x;\n    const newY = e.clientY - dragStart.y;\n    \n    // Get map container bounds to constrain movement\n    const mapContainer = compassRef.current?.closest('.map-with-compass');\n    if (mapContainer) {\n      const rect = mapContainer.getBoundingClientRect();\n      const compassSize = 180; // Size of compass container\n      \n      const constrainedX = Math.max(0, Math.min(newX, rect.width - compassSize));\n      const constrainedY = Math.max(0, Math.min(newY, rect.height - compassSize));\n      \n      setPosition({ x: constrainedX, y: constrainedY });\n    }\n  };\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  useEffect(() => {\n    if (isDragging) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n      return () => {\n        document.removeEventListener('mousemove', handleMouseMove);\n        document.removeEventListener('mouseup', handleMouseUp);\n      };\n    }\n  }, [isDragging, dragStart]);\n\n  return (\n    <div \n      ref={compassRef}\n      className={`compass-container draggable ${isDragging ? 'dragging' : ''}`}\n      style={{\n        left: `${position.x}px`,\n        top: `${position.y}px`,\n      }}\n      onMouseDown={handleMouseDown}\n    >\n      <div className=\"compass\">\n        <div className=\"compass-center\">\n          <div className=\"compass-needle\"></div>\n        </div>\n        {directions.map((direction, index) => {\n          const radius = 65; // Increased radius for larger compass\n          const x = Math.sin((direction.angle * Math.PI) / 180) * radius;\n          const y = -Math.cos((direction.angle * Math.PI) / 180) * radius;\n          \n          return (\n            <div\n              key={index}\n              className={`compass-direction ${direction.label === 'N' || direction.label === 'S' || direction.label === 'E' || direction.label === 'W' ? 'cardinal' : 'intermediate'}`}\n              style={{\n                transform: `translate(${x}px, ${y}px)`,\n              }}\n              title={direction.fullName}\n            >\n              {direction.label}\n            </div>\n          );\n        })}\n      </div>\n      <div className=\"compass-label\">\n        <span>📍 Compass</span>\n        <small>Drag to move • Hover for directions</small>\n      </div>\n    </div>\n  );\n};\n\nexport default Compass; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}