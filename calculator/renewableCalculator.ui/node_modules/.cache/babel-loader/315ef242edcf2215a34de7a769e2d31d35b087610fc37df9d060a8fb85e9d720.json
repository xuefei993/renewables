{"ast":null,"code":"var _jsxFileName = \"/Users/xuefei/Desktop/calculator00/calculator/renewableCalculator.ui/src/components/steps/address-input/ClimateChart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { weatherService } from '../../../services/weatherService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ClimateChart = ({\n  latitude,\n  longitude,\n  location\n}) => {\n  _s();\n  const [climateData, setClimateData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [tooltip, setTooltip] = useState({\n    show: false,\n    x: 0,\n    y: 0,\n    content: ''\n  });\n  const [debugInfo, setDebugInfo] = useState('');\n  useEffect(() => {\n    if (latitude && longitude) {\n      fetchClimateData();\n    }\n  }, [latitude, longitude]);\n  const fetchClimateData = async () => {\n    setIsLoading(true);\n    setError('');\n    setClimateData(null);\n    setDebugInfo('');\n    try {\n      console.log('Fetching real climate data...');\n      setDebugInfo(`Requesting data for: ${latitude}, ${longitude}`);\n      const result = await weatherService.getCompleteClimateData(latitude, longitude);\n      if (result.success) {\n        setClimateData(result.data);\n        setDebugInfo(`Successfully loaded data: ${result.data.solar.length} solar points, ${result.data.temperature.length} temperature points`);\n        console.log('Climate data loaded successfully:', result.data);\n      } else {\n        setError(result.error || 'Failed to fetch climate data');\n        setDebugInfo(`API Error: ${result.error}`);\n        console.error('Climate data fetch failed:', result.error);\n      }\n    } catch (err) {\n      const errorMsg = 'Failed to fetch climate data: ' + err.message;\n      setError(errorMsg);\n      setDebugInfo(`Exception: ${err.message}`);\n      console.error('Climate data fetch error:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const showTooltip = (e, month, solarValue, tempValue) => {\n    const rect = e.currentTarget.getBoundingClientRect();\n    setTooltip({\n      show: true,\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top,\n      content: {\n        month,\n        solar: solarValue.toFixed(1),\n        temperature: tempValue.toFixed(1)\n      }\n    });\n  };\n  const hideTooltip = () => {\n    setTooltip({\n      show: false,\n      x: 0,\n      y: 0,\n      content: ''\n    });\n  };\n\n  // 创建平滑曲线路径的辅助函数\n  const createSmoothPath = points => {\n    if (points.length < 2) return '';\n    let path = `M ${points[0].x} ${points[0].y}`;\n    for (let i = 1; i < points.length; i++) {\n      const prev = points[i - 1];\n      const curr = points[i];\n      const next = points[i + 1];\n      if (i === 1) {\n        // 第一个曲线段\n        const cp1x = prev.x + (curr.x - prev.x) / 3;\n        const cp1y = prev.y;\n        const cp2x = curr.x - (next ? (next.x - prev.x) / 6 : (curr.x - prev.x) / 3);\n        const cp2y = curr.y - (next ? (next.y - prev.y) / 6 : 0);\n        path += ` C ${cp1x} ${cp1y}, ${cp2x} ${cp2y}, ${curr.x} ${curr.y}`;\n      } else if (i === points.length - 1) {\n        // 最后一个曲线段\n        const prevPrev = points[i - 2];\n        const cp1x = prev.x + (curr.x - prevPrev.x) / 6;\n        const cp1y = prev.y + (curr.y - prevPrev.y) / 6;\n        const cp2x = curr.x - (curr.x - prev.x) / 3;\n        const cp2y = curr.y;\n        path += ` C ${cp1x} ${cp1y}, ${cp2x} ${cp2y}, ${curr.x} ${curr.y}`;\n      } else {\n        // 中间的曲线段\n        const cp1x = prev.x + (curr.x - points[i - 2].x) / 6;\n        const cp1y = prev.y + (curr.y - points[i - 2].y) / 6;\n        const cp2x = curr.x - (next.x - prev.x) / 6;\n        const cp2y = curr.y - (next.y - prev.y) / 6;\n        path += ` C ${cp1x} ${cp1y}, ${cp2x} ${cp2y}, ${curr.x} ${curr.y}`;\n      }\n    }\n    return path;\n  };\n  const renderCombinedChart = () => {\n    if (!(climateData !== null && climateData !== void 0 && climateData.solar) || !(climateData !== null && climateData !== void 0 && climateData.temperature)) return null;\n\n    // 增大图表尺寸\n    const chartWidth = 700; // 从500增加到700\n    const chartHeight = 400; // 从300增加到400\n    const padding = 80; // 从60增加到80，给标签更多空间\n    const months = climateData.solar;\n\n    // 验证数据完整性\n    if (months.length === 0 || climateData.temperature.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-error\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Insufficient data to display chart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: [\"Solar: \", months.length, \" points, Temperature: \", climateData.temperature.length, \" points\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this);\n    }\n\n    // 计算太阳辐射的范围和比例\n    const solarValues = months.map(d => d.value).filter(v => !isNaN(v) && v > 0);\n    if (solarValues.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-error\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No valid solar radiation data available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: [\"Raw data points: \", months.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this);\n    }\n    const solarMax = Math.max(...solarValues);\n    const solarMin = Math.min(...solarValues);\n    const solarRange = solarMax - solarMin || 1;\n\n    // 计算温度的范围和比例\n    const tempValues = climateData.temperature.map(d => d.value).filter(v => !isNaN(v));\n    if (tempValues.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-error\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No valid temperature data available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: [\"Raw data points: \", climateData.temperature.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this);\n    }\n    const tempMax = Math.max(...tempValues);\n    const tempMin = Math.min(...tempValues);\n    const tempRange = tempMax - tempMin || 1;\n\n    // 生成太阳辐射折线点\n    const solarPoints = months.map((item, index) => {\n      const x = padding + index * (chartWidth - 2 * padding) / (months.length - 1);\n      const y = chartHeight - padding - (item.value - solarMin) / solarRange * (chartHeight - 2 * padding);\n      return {\n        x,\n        y,\n        value: item.value,\n        month: item.month\n      };\n    });\n\n    // 生成温度折线点\n    const tempPoints = climateData.temperature.map((item, index) => {\n      const x = padding + index * (chartWidth - 2 * padding) / (months.length - 1);\n      const y = chartHeight - padding - (item.value - tempMin) / tempRange * (chartHeight - 2 * padding);\n      return {\n        x,\n        y,\n        value: item.value,\n        month: item.month\n      };\n    });\n\n    // 创建平滑曲线路径\n    const solarPath = createSmoothPath(solarPoints);\n    const tempPath = createSmoothPath(tempPoints);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"combined-chart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Monthly Climate Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"data-source\",\n        children: /*#__PURE__*/_jsxDEV(\"small\", {\n          children: \"Data sources: NASA POWER (Solar), Open-Meteo (Temperature)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-legend\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-color\",\n            style: {\n              backgroundColor: '#f39c12'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Solar Radiation (kWh/m\\xB2/day)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-color\",\n            style: {\n              backgroundColor: '#e74c3c'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Temperature (\\xB0C)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-wrapper\",\n        style: {\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          width: chartWidth,\n          height: chartHeight,\n          className: \"climate-chart\",\n          children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n            children: [/*#__PURE__*/_jsxDEV(\"linearGradient\", {\n              id: \"solarGradient\",\n              x1: \"0%\",\n              y1: \"0%\",\n              x2: \"0%\",\n              y2: \"100%\",\n              children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                offset: \"0%\",\n                style: {\n                  stopColor: '#f39c12',\n                  stopOpacity: 0.3\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                offset: \"100%\",\n                style: {\n                  stopColor: '#f39c12',\n                  stopOpacity: 0.1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n              id: \"tempGradient\",\n              x1: \"0%\",\n              y1: \"0%\",\n              x2: \"0%\",\n              y2: \"100%\",\n              children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                offset: \"0%\",\n                style: {\n                  stopColor: '#e74c3c',\n                  stopOpacity: 0.3\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                offset: \"100%\",\n                style: {\n                  stopColor: '#e74c3c',\n                  stopOpacity: 0.1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"filter\", {\n              id: \"shadow\",\n              x: \"-50%\",\n              y: \"-50%\",\n              width: \"200%\",\n              height: \"200%\",\n              children: /*#__PURE__*/_jsxDEV(\"feDropShadow\", {\n                dx: \"0\",\n                dy: \"2\",\n                stdDeviation: \"3\",\n                floodColor: \"#000\",\n                floodOpacity: \"0.1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), [0, 0.25, 0.5, 0.75, 1].map(ratio => /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: padding,\n            y1: chartHeight - padding - ratio * (chartHeight - 2 * padding),\n            x2: chartWidth - padding,\n            y2: chartHeight - padding - ratio * (chartHeight - 2 * padding),\n            stroke: \"#e8e8e8\",\n            strokeWidth: \"1\",\n            strokeDasharray: \"3,3\"\n          }, ratio, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)), months.map((item, index) => {\n            const x = padding + index * (chartWidth - 2 * padding) / (months.length - 1);\n            return /*#__PURE__*/_jsxDEV(\"line\", {\n              x1: x,\n              y1: padding,\n              x2: x,\n              y2: chartHeight - padding,\n              stroke: \"#f0f0f0\",\n              strokeWidth: \"1\",\n              strokeDasharray: \"2,4\"\n            }, `vgrid-${index}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: `${solarPath} L ${solarPoints[solarPoints.length - 1].x} ${chartHeight - padding} L ${solarPoints[0].x} ${chartHeight - padding} Z`,\n            fill: \"url(#solarGradient)\",\n            opacity: \"0.6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: solarPath,\n            fill: \"none\",\n            stroke: \"#f39c12\",\n            strokeWidth: \"4\",\n            filter: \"url(#shadow)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: tempPath,\n            fill: \"none\",\n            stroke: \"#e74c3c\",\n            strokeWidth: \"4\",\n            filter: \"url(#shadow)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), solarPoints.map((point, index) => /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: point.x,\n            cy: point.y,\n            r: \"6\",\n            fill: \"#f39c12\",\n            stroke: \"white\",\n            strokeWidth: \"3\",\n            className: \"data-point solar-point\",\n            onMouseEnter: e => showTooltip(e, point.month, point.value, tempPoints[index].value),\n            onMouseLeave: hideTooltip,\n            style: {\n              cursor: 'pointer',\n              filter: 'drop-shadow(0 2px 4px rgba(0,0,0,0.2))'\n            }\n          }, `solar-${index}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this)), tempPoints.map((point, index) => /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: point.x,\n            cy: point.y,\n            r: \"6\",\n            fill: \"#e74c3c\",\n            stroke: \"white\",\n            strokeWidth: \"3\",\n            className: \"data-point temp-point\",\n            onMouseEnter: e => showTooltip(e, point.month, solarPoints[index].value, point.value),\n            onMouseLeave: hideTooltip,\n            style: {\n              cursor: 'pointer',\n              filter: 'drop-shadow(0 2px 4px rgba(0,0,0,0.2))'\n            }\n          }, `temp-${index}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this)), months.map((item, index) => {\n            const x = padding + index * (chartWidth - 2 * padding) / (months.length - 1);\n            return /*#__PURE__*/_jsxDEV(\"text\", {\n              x: x,\n              y: chartHeight - 25,\n              textAnchor: \"middle\",\n              fontSize: \"13\",\n              fill: \"#666\",\n              fontWeight: \"500\",\n              children: item.month\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this);\n          }), [0, 0.25, 0.5, 0.75, 1].map((ratio, index) => {\n            const value = solarMin + ratio * solarRange;\n            const y = chartHeight - padding - ratio * (chartHeight - 2 * padding);\n            return /*#__PURE__*/_jsxDEV(\"text\", {\n              x: padding - 20,\n              y: y + 4,\n              textAnchor: \"end\",\n              fontSize: \"12\",\n              fill: \"#f39c12\",\n              fontWeight: \"600\",\n              children: value.toFixed(1)\n            }, `solar-y-${index}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 17\n            }, this);\n          }), [0, 0.25, 0.5, 0.75, 1].map((ratio, index) => {\n            const value = tempMin + ratio * tempRange;\n            const y = chartHeight - padding - ratio * (chartHeight - 2 * padding);\n            return /*#__PURE__*/_jsxDEV(\"text\", {\n              x: chartWidth - padding + 20,\n              y: y + 4,\n              textAnchor: \"start\",\n              fontSize: \"12\",\n              fill: \"#e74c3c\",\n              fontWeight: \"600\",\n              children: [value.toFixed(1), \"\\xB0C\"]\n            }, `temp-y-${index}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: 25,\n            y: chartHeight / 2,\n            textAnchor: \"middle\",\n            fontSize: \"14\",\n            fill: \"#f39c12\",\n            fontWeight: \"700\",\n            transform: `rotate(-90 25 ${chartHeight / 2})`,\n            children: \"Solar Radiation (kWh/m\\xB2/day)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: chartWidth - 25,\n            y: chartHeight / 2,\n            textAnchor: \"middle\",\n            fontSize: \"14\",\n            fill: \"#e74c3c\",\n            fontWeight: \"700\",\n            transform: `rotate(90 ${chartWidth - 25} ${chartHeight / 2})`,\n            children: \"Temperature (\\xB0C)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), tooltip.show && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-tooltip\",\n          style: {\n            position: 'absolute',\n            left: tooltip.x + 10,\n            top: tooltip.y - 10,\n            transform: 'translateY(-100%)',\n            pointerEvents: 'none'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tooltip-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tooltip-title\",\n              children: tooltip.content.month\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tooltip-item solar\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-color\",\n                style: {\n                  backgroundColor: '#f39c12'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this), \"Solar: \", tooltip.content.solar, \" kWh/m\\xB2/day\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tooltip-item temp\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-color\",\n                style: {\n                  backgroundColor: '#e74c3c'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this), \"Temperature: \", tooltip.content.temperature, \"\\xB0C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-stats-combined\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Solar Radiation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Annual Average:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [(solarValues.reduce((sum, val) => sum + val, 0) / solarValues.length).toFixed(1), \" kWh/m\\xB2/day\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Peak Month:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: months[solarValues.indexOf(Math.max(...solarValues))].month\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Data Points:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [solarValues.length, \" months\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Temperature\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Annual Average:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [(tempValues.reduce((sum, val) => sum + val, 0) / tempValues.length).toFixed(1), \"\\xB0C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Peak Month:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: climateData.temperature[tempValues.indexOf(Math.max(...tempValues))].month\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Data Points:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [tempValues.length, \" months\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this);\n  };\n  if (!latitude || !longitude) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"climate-chart-placeholder\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Select a location to view climate data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 7\n    }, this);\n  }\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"climate-chart-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: \"Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Fetching real climate data from NASA POWER and Open-Meteo...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        children: \"This may take a few seconds\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 9\n      }, this), debugInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '0.5rem',\n          fontSize: '0.8rem',\n          color: '#666'\n        },\n        children: debugInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"climate-chart-error\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Warning: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchClimateData,\n        className: \"btn btn-secondary\",\n        children: \"Try Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"small\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Troubleshooting:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 46\n          }, this), \"\\u2022 Check your internet connection\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 45\n          }, this), \"\\u2022 The APIs may be temporarily unavailable\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 54\n          }, this), \"\\u2022 Some locations may not have complete data coverage\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 65\n          }, this), \"\\u2022 Location: \", latitude, \", \", longitude]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this), debugInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '0.5rem',\n            fontSize: '0.8rem',\n            color: '#666',\n            fontFamily: 'monospace'\n          },\n          children: [\"Debug: \", debugInfo]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 计算数据年份范围用于显示\n  const currentYear = new Date().getFullYear();\n  const endYear = currentYear - 1;\n  const startYear = endYear - 4; // 5年数据\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"climate-chart-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Climate Data for \", location]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Historical data (\", startYear, \"-\", endYear, \") from NASA POWER and Open-Meteo APIs\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-content\",\n      children: renderCombinedChart()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 496,\n    columnNumber: 5\n  }, this);\n};\n_s(ClimateChart, \"bgvKk7Pp1zytqLLgOAaJWtMya+E=\");\n_c = ClimateChart;\nexport default ClimateChart;\nvar _c;\n$RefreshReg$(_c, \"ClimateChart\");","map":{"version":3,"names":["React","useState","useEffect","weatherService","jsxDEV","_jsxDEV","ClimateChart","latitude","longitude","location","_s","climateData","setClimateData","isLoading","setIsLoading","error","setError","tooltip","setTooltip","show","x","y","content","debugInfo","setDebugInfo","fetchClimateData","console","log","result","getCompleteClimateData","success","data","solar","length","temperature","err","errorMsg","message","showTooltip","e","month","solarValue","tempValue","rect","currentTarget","getBoundingClientRect","clientX","left","clientY","top","toFixed","hideTooltip","createSmoothPath","points","path","i","prev","curr","next","cp1x","cp1y","cp2x","cp2y","prevPrev","renderCombinedChart","chartWidth","chartHeight","padding","months","className","children","fileName","_jsxFileName","lineNumber","columnNumber","solarValues","map","d","value","filter","v","isNaN","solarMax","Math","max","solarMin","min","solarRange","tempValues","tempMax","tempMin","tempRange","solarPoints","item","index","tempPoints","solarPath","tempPath","style","backgroundColor","position","width","height","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","dx","dy","stdDeviation","floodColor","floodOpacity","ratio","stroke","strokeWidth","strokeDasharray","fill","opacity","point","cx","cy","r","onMouseEnter","onMouseLeave","cursor","textAnchor","fontSize","fontWeight","transform","pointerEvents","reduce","sum","val","indexOf","marginTop","color","onClick","fontFamily","currentYear","Date","getFullYear","endYear","startYear","_c","$RefreshReg$"],"sources":["/Users/xuefei/Desktop/calculator00/calculator/renewableCalculator.ui/src/components/steps/address-input/ClimateChart.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { weatherService } from '../../../services/weatherService';\n\nconst ClimateChart = ({ latitude, longitude, location }) => {\n  const [climateData, setClimateData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [tooltip, setTooltip] = useState({ show: false, x: 0, y: 0, content: '' });\n  const [debugInfo, setDebugInfo] = useState('');\n\n  useEffect(() => {\n    if (latitude && longitude) {\n      fetchClimateData();\n    }\n  }, [latitude, longitude]);\n\n  const fetchClimateData = async () => {\n    setIsLoading(true);\n    setError('');\n    setClimateData(null);\n    setDebugInfo('');\n\n    try {\n      console.log('Fetching real climate data...');\n      setDebugInfo(`Requesting data for: ${latitude}, ${longitude}`);\n      \n      const result = await weatherService.getCompleteClimateData(latitude, longitude);\n      \n      if (result.success) {\n        setClimateData(result.data);\n        setDebugInfo(`Successfully loaded data: ${result.data.solar.length} solar points, ${result.data.temperature.length} temperature points`);\n        console.log('Climate data loaded successfully:', result.data);\n      } else {\n        setError(result.error || 'Failed to fetch climate data');\n        setDebugInfo(`API Error: ${result.error}`);\n        console.error('Climate data fetch failed:', result.error);\n      }\n    } catch (err) {\n      const errorMsg = 'Failed to fetch climate data: ' + err.message;\n      setError(errorMsg);\n      setDebugInfo(`Exception: ${err.message}`);\n      console.error('Climate data fetch error:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const showTooltip = (e, month, solarValue, tempValue) => {\n    const rect = e.currentTarget.getBoundingClientRect();\n    setTooltip({\n      show: true,\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top,\n      content: {\n        month,\n        solar: solarValue.toFixed(1),\n        temperature: tempValue.toFixed(1)\n      }\n    });\n  };\n\n  const hideTooltip = () => {\n    setTooltip({ show: false, x: 0, y: 0, content: '' });\n  };\n\n  // 创建平滑曲线路径的辅助函数\n  const createSmoothPath = (points) => {\n    if (points.length < 2) return '';\n    \n    let path = `M ${points[0].x} ${points[0].y}`;\n    \n    for (let i = 1; i < points.length; i++) {\n      const prev = points[i - 1];\n      const curr = points[i];\n      const next = points[i + 1];\n      \n      if (i === 1) {\n        // 第一个曲线段\n        const cp1x = prev.x + (curr.x - prev.x) / 3;\n        const cp1y = prev.y;\n        const cp2x = curr.x - (next ? (next.x - prev.x) / 6 : (curr.x - prev.x) / 3);\n        const cp2y = curr.y - (next ? (next.y - prev.y) / 6 : 0);\n        path += ` C ${cp1x} ${cp1y}, ${cp2x} ${cp2y}, ${curr.x} ${curr.y}`;\n      } else if (i === points.length - 1) {\n        // 最后一个曲线段\n        const prevPrev = points[i - 2];\n        const cp1x = prev.x + (curr.x - prevPrev.x) / 6;\n        const cp1y = prev.y + (curr.y - prevPrev.y) / 6;\n        const cp2x = curr.x - (curr.x - prev.x) / 3;\n        const cp2y = curr.y;\n        path += ` C ${cp1x} ${cp1y}, ${cp2x} ${cp2y}, ${curr.x} ${curr.y}`;\n      } else {\n        // 中间的曲线段\n        const cp1x = prev.x + (curr.x - points[i - 2].x) / 6;\n        const cp1y = prev.y + (curr.y - points[i - 2].y) / 6;\n        const cp2x = curr.x - (next.x - prev.x) / 6;\n        const cp2y = curr.y - (next.y - prev.y) / 6;\n        path += ` C ${cp1x} ${cp1y}, ${cp2x} ${cp2y}, ${curr.x} ${curr.y}`;\n      }\n    }\n    \n    return path;\n  };\n\n  const renderCombinedChart = () => {\n    if (!climateData?.solar || !climateData?.temperature) return null;\n\n    // 增大图表尺寸\n    const chartWidth = 700;  // 从500增加到700\n    const chartHeight = 400; // 从300增加到400\n    const padding = 80;      // 从60增加到80，给标签更多空间\n    const months = climateData.solar;\n\n    // 验证数据完整性\n    if (months.length === 0 || climateData.temperature.length === 0) {\n      return (\n        <div className=\"chart-error\">\n          <p>Insufficient data to display chart</p>\n          <small>Solar: {months.length} points, Temperature: {climateData.temperature.length} points</small>\n        </div>\n      );\n    }\n\n    // 计算太阳辐射的范围和比例\n    const solarValues = months.map(d => d.value).filter(v => !isNaN(v) && v > 0);\n    if (solarValues.length === 0) {\n      return (\n        <div className=\"chart-error\">\n          <p>No valid solar radiation data available</p>\n          <small>Raw data points: {months.length}</small>\n        </div>\n      );\n    }\n    \n    const solarMax = Math.max(...solarValues);\n    const solarMin = Math.min(...solarValues);\n    const solarRange = solarMax - solarMin || 1;\n\n    // 计算温度的范围和比例\n    const tempValues = climateData.temperature.map(d => d.value).filter(v => !isNaN(v));\n    if (tempValues.length === 0) {\n      return (\n        <div className=\"chart-error\">\n          <p>No valid temperature data available</p>\n          <small>Raw data points: {climateData.temperature.length}</small>\n        </div>\n      );\n    }\n    \n    const tempMax = Math.max(...tempValues);\n    const tempMin = Math.min(...tempValues);\n    const tempRange = tempMax - tempMin || 1;\n\n    // 生成太阳辐射折线点\n    const solarPoints = months.map((item, index) => {\n      const x = padding + (index * (chartWidth - 2 * padding)) / (months.length - 1);\n      const y = chartHeight - padding - ((item.value - solarMin) / solarRange) * (chartHeight - 2 * padding);\n      return { x, y, value: item.value, month: item.month };\n    });\n\n    // 生成温度折线点\n    const tempPoints = climateData.temperature.map((item, index) => {\n      const x = padding + (index * (chartWidth - 2 * padding)) / (months.length - 1);\n      const y = chartHeight - padding - ((item.value - tempMin) / tempRange) * (chartHeight - 2 * padding);\n      return { x, y, value: item.value, month: item.month };\n    });\n\n    // 创建平滑曲线路径\n    const solarPath = createSmoothPath(solarPoints);\n    const tempPath = createSmoothPath(tempPoints);\n\n    return (\n      <div className=\"combined-chart-container\">\n        <h4>Monthly Climate Data</h4>\n        \n        {/* 数据来源说明 */}\n        <div className=\"data-source\">\n          <small>Data sources: NASA POWER (Solar), Open-Meteo (Temperature)</small>\n        </div>\n        \n        {/* 图例 */}\n        <div className=\"chart-legend\">\n          <div className=\"legend-item\">\n            <div className=\"legend-color\" style={{ backgroundColor: '#f39c12' }}></div>\n            <span>Solar Radiation (kWh/m²/day)</span>\n          </div>\n          <div className=\"legend-item\">\n            <div className=\"legend-color\" style={{ backgroundColor: '#e74c3c' }}></div>\n            <span>Temperature (°C)</span>\n          </div>\n        </div>\n\n        <div className=\"chart-wrapper\" style={{ position: 'relative' }}>\n          <svg width={chartWidth} height={chartHeight} className=\"climate-chart\">\n            {/* 定义渐变 */}\n            <defs>\n              <linearGradient id=\"solarGradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                <stop offset=\"0%\" style={{ stopColor: '#f39c12', stopOpacity: 0.3 }} />\n                <stop offset=\"100%\" style={{ stopColor: '#f39c12', stopOpacity: 0.1 }} />\n              </linearGradient>\n              <linearGradient id=\"tempGradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                <stop offset=\"0%\" style={{ stopColor: '#e74c3c', stopOpacity: 0.3 }} />\n                <stop offset=\"100%\" style={{ stopColor: '#e74c3c', stopOpacity: 0.1 }} />\n              </linearGradient>\n              <filter id=\"shadow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n                <feDropShadow dx=\"0\" dy=\"2\" stdDeviation=\"3\" floodColor=\"#000\" floodOpacity=\"0.1\"/>\n              </filter>\n            </defs>\n            \n            {/* 网格线 */}\n            {[0, 0.25, 0.5, 0.75, 1].map(ratio => (\n              <line\n                key={ratio}\n                x1={padding}\n                y1={chartHeight - padding - ratio * (chartHeight - 2 * padding)}\n                x2={chartWidth - padding}\n                y2={chartHeight - padding - ratio * (chartHeight - 2 * padding)}\n                stroke=\"#e8e8e8\"\n                strokeWidth=\"1\"\n                strokeDasharray=\"3,3\"\n              />\n            ))}\n            \n            {/* 垂直网格线 */}\n            {months.map((item, index) => {\n              const x = padding + (index * (chartWidth - 2 * padding)) / (months.length - 1);\n              return (\n                <line\n                  key={`vgrid-${index}`}\n                  x1={x}\n                  y1={padding}\n                  x2={x}\n                  y2={chartHeight - padding}\n                  stroke=\"#f0f0f0\"\n                  strokeWidth=\"1\"\n                  strokeDasharray=\"2,4\"\n                />\n              );\n            })}\n            \n            {/* 太阳辐射填充区域 */}\n            <path\n              d={`${solarPath} L ${solarPoints[solarPoints.length - 1].x} ${chartHeight - padding} L ${solarPoints[0].x} ${chartHeight - padding} Z`}\n              fill=\"url(#solarGradient)\"\n              opacity=\"0.6\"\n            />\n            \n            {/* 太阳辐射平滑曲线 */}\n            <path\n              d={solarPath}\n              fill=\"none\"\n              stroke=\"#f39c12\"\n              strokeWidth=\"4\"\n              filter=\"url(#shadow)\"\n            />\n            \n            {/* 温度平滑曲线 */}\n            <path\n              d={tempPath}\n              fill=\"none\"\n              stroke=\"#e74c3c\"\n              strokeWidth=\"4\"\n              filter=\"url(#shadow)\"\n            />\n            \n            {/* 太阳辐射数据点 */}\n            {solarPoints.map((point, index) => (\n              <circle\n                key={`solar-${index}`}\n                cx={point.x}\n                cy={point.y}\n                r=\"6\"\n                fill=\"#f39c12\"\n                stroke=\"white\"\n                strokeWidth=\"3\"\n                className=\"data-point solar-point\"\n                onMouseEnter={(e) => showTooltip(e, point.month, point.value, tempPoints[index].value)}\n                onMouseLeave={hideTooltip}\n                style={{ cursor: 'pointer', filter: 'drop-shadow(0 2px 4px rgba(0,0,0,0.2))' }}\n              />\n            ))}\n            \n            {/* 温度数据点 */}\n            {tempPoints.map((point, index) => (\n              <circle\n                key={`temp-${index}`}\n                cx={point.x}\n                cy={point.y}\n                r=\"6\"\n                fill=\"#e74c3c\"\n                stroke=\"white\"\n                strokeWidth=\"3\"\n                className=\"data-point temp-point\"\n                onMouseEnter={(e) => showTooltip(e, point.month, solarPoints[index].value, point.value)}\n                onMouseLeave={hideTooltip}\n                style={{ cursor: 'pointer', filter: 'drop-shadow(0 2px 4px rgba(0,0,0,0.2))' }}\n              />\n            ))}\n            \n            {/* X轴标签 */}\n            {months.map((item, index) => {\n              const x = padding + (index * (chartWidth - 2 * padding)) / (months.length - 1);\n              return (\n                <text\n                  key={index}\n                  x={x}\n                  y={chartHeight - 25}\n                  textAnchor=\"middle\"\n                  fontSize=\"13\"\n                  fill=\"#666\"\n                  fontWeight=\"500\"\n                >\n                  {item.month}\n                </text>\n              );\n            })}\n            \n            {/* 左Y轴标签（太阳辐射） */}\n            {[0, 0.25, 0.5, 0.75, 1].map((ratio, index) => {\n              const value = solarMin + ratio * solarRange;\n              const y = chartHeight - padding - ratio * (chartHeight - 2 * padding);\n              return (\n                <text\n                  key={`solar-y-${index}`}\n                  x={padding - 20}\n                  y={y + 4}\n                  textAnchor=\"end\"\n                  fontSize=\"12\"\n                  fill=\"#f39c12\"\n                  fontWeight=\"600\"\n                >\n                  {value.toFixed(1)}\n                </text>\n              );\n            })}\n            \n            {/* 右Y轴标签（温度） */}\n            {[0, 0.25, 0.5, 0.75, 1].map((ratio, index) => {\n              const value = tempMin + ratio * tempRange;\n              const y = chartHeight - padding - ratio * (chartHeight - 2 * padding);\n              return (\n                <text\n                  key={`temp-y-${index}`}\n                  x={chartWidth - padding + 20}\n                  y={y + 4}\n                  textAnchor=\"start\"\n                  fontSize=\"12\"\n                  fill=\"#e74c3c\"\n                  fontWeight=\"600\"\n                >\n                  {value.toFixed(1)}°C\n                </text>\n              );\n            })}\n            \n            {/* Y轴标题 */}\n            <text\n              x={25}\n              y={chartHeight / 2}\n              textAnchor=\"middle\"\n              fontSize=\"14\"\n              fill=\"#f39c12\"\n              fontWeight=\"700\"\n              transform={`rotate(-90 25 ${chartHeight / 2})`}\n            >\n              Solar Radiation (kWh/m²/day)\n            </text>\n            \n            <text\n              x={chartWidth - 25}\n              y={chartHeight / 2}\n              textAnchor=\"middle\"\n              fontSize=\"14\"\n              fill=\"#e74c3c\"\n              fontWeight=\"700\"\n              transform={`rotate(90 ${chartWidth - 25} ${chartHeight / 2})`}\n            >\n              Temperature (°C)\n            </text>\n          </svg>\n          \n          {/* Tooltip */}\n          {tooltip.show && (\n            <div\n              className=\"chart-tooltip\"\n              style={{\n                position: 'absolute',\n                left: tooltip.x + 10,\n                top: tooltip.y - 10,\n                transform: 'translateY(-100%)',\n                pointerEvents: 'none'\n              }}\n            >\n              <div className=\"tooltip-content\">\n                <div className=\"tooltip-title\">{tooltip.content.month}</div>\n                <div className=\"tooltip-item solar\">\n                  <span className=\"tooltip-color\" style={{ backgroundColor: '#f39c12' }}></span>\n                  Solar: {tooltip.content.solar} kWh/m²/day\n                </div>\n                <div className=\"tooltip-item temp\">\n                  <span className=\"tooltip-color\" style={{ backgroundColor: '#e74c3c' }}></span>\n                  Temperature: {tooltip.content.temperature}°C\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"chart-stats-combined\">\n          <div className=\"stat-group\">\n            <h5>Solar Radiation</h5>\n            <div className=\"stat\">\n              <span>Annual Average:</span>\n              <strong>{(solarValues.reduce((sum, val) => sum + val, 0) / solarValues.length).toFixed(1)} kWh/m²/day</strong>\n            </div>\n            <div className=\"stat\">\n              <span>Peak Month:</span>\n              <strong>{months[solarValues.indexOf(Math.max(...solarValues))].month}</strong>\n            </div>\n            <div className=\"stat\">\n              <span>Data Points:</span>\n              <strong>{solarValues.length} months</strong>\n            </div>\n          </div>\n          \n          <div className=\"stat-group\">\n            <h5>Temperature</h5>\n            <div className=\"stat\">\n              <span>Annual Average:</span>\n              <strong>{(tempValues.reduce((sum, val) => sum + val, 0) / tempValues.length).toFixed(1)}°C</strong>\n            </div>\n            <div className=\"stat\">\n              <span>Peak Month:</span>\n              <strong>{climateData.temperature[tempValues.indexOf(Math.max(...tempValues))].month}</strong>\n            </div>\n            <div className=\"stat\">\n              <span>Data Points:</span>\n              <strong>{tempValues.length} months</strong>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  if (!latitude || !longitude) {\n    return (\n      <div className=\"climate-chart-placeholder\">\n        <p>Select a location to view climate data</p>\n      </div>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"climate-chart-loading\">\n        <div className=\"loading-spinner\">Loading</div>\n        <p>Fetching real climate data from NASA POWER and Open-Meteo...</p>\n        <small>This may take a few seconds</small>\n        {debugInfo && <div style={{ marginTop: '0.5rem', fontSize: '0.8rem', color: '#666' }}>{debugInfo}</div>}\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"climate-chart-error\">\n        <p>Warning: {error}</p>\n        <button onClick={fetchClimateData} className=\"btn btn-secondary\">\n          Try Again\n        </button>\n        <div style={{ marginTop: '1rem' }}>\n          <small>\n            <strong>Troubleshooting:</strong><br/>\n            • Check your internet connection<br/>\n            • The APIs may be temporarily unavailable<br/>\n            • Some locations may not have complete data coverage<br/>\n            • Location: {latitude}, {longitude}\n          </small>\n          {debugInfo && (\n            <div style={{ marginTop: '0.5rem', fontSize: '0.8rem', color: '#666', fontFamily: 'monospace' }}>\n              Debug: {debugInfo}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  // 计算数据年份范围用于显示\n  const currentYear = new Date().getFullYear();\n  const endYear = currentYear - 1;\n  const startYear = endYear - 4; // 5年数据\n\n  return (\n    <div className=\"climate-chart-container\">\n      <div className=\"chart-header\">\n        <h3>Climate Data for {location}</h3>\n        <p>Historical data ({startYear}-{endYear}) from NASA POWER and Open-Meteo APIs</p>\n      </div>\n      \n      <div className=\"chart-content\">\n        {renderCombinedChart()}\n      </div>\n    </div>\n  );\n};\n\nexport default ClimateChart; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}