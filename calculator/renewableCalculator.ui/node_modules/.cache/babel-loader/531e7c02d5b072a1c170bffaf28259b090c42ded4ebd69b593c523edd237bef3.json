{"ast":null,"code":"var _jsxFileName = \"/Users/xuefei/Desktop/calculator00/calculator/renewableCalculator.ui/src/components/steps/EquipmentComparison.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\nconst EquipmentComparison = ({\n  selectedEquipment,\n  userData,\n  onBack\n}) => {\n  _s();\n  const [comparisonData, setComparisonData] = useState(null);\n  const [availableEquipment, setAvailableEquipment] = useState({});\n  const [selectedModels, setSelectedModels] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [showChart, setShowChart] = useState({\n    visible: false,\n    data: null,\n    title: ''\n  });\n  useEffect(() => {\n    if (selectedEquipment) {\n      loadAvailableEquipment();\n    }\n  }, [selectedEquipment]);\n  const loadAvailableEquipment = async () => {\n    try {\n      const promises = [];\n      if (selectedEquipment.solarPanels) {\n        promises.push(fetch('http://localhost:8080/api/equipment/solar-panels/available').then(res => res.json()).then(data => ({\n          type: 'solar',\n          data\n        })));\n      }\n      if (selectedEquipment.heatPump) {\n        promises.push(fetch('http://localhost:8080/api/equipment/heat-pumps/available').then(res => res.json()).then(data => ({\n          type: 'heatPump',\n          data\n        })));\n      }\n      if (selectedEquipment.batteryStorage) {\n        promises.push(fetch('http://localhost:8080/api/equipment/batteries/available').then(res => res.json()).then(data => ({\n          type: 'battery',\n          data\n        })));\n      }\n      const results = await Promise.all(promises);\n      const available = {};\n      results.forEach(result => {\n        available[result.type] = result.data;\n      });\n      setAvailableEquipment(available);\n\n      // Set default selections (first 2-3 items for each type)\n      const defaultSelections = {};\n      Object.keys(available).forEach(type => {\n        defaultSelections[type] = available[type].slice(0, 3).map(item => item.id);\n      });\n      setSelectedModels(defaultSelections);\n    } catch (error) {\n      console.error('Error loading available equipment:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleCompareEquipment = async () => {\n    if (Object.keys(selectedModels).length === 0) return;\n    setLoading(true);\n    try {\n      const comparisonRequest = {\n        hasSolarPanels: selectedEquipment.solarPanels,\n        hasHeatPump: selectedEquipment.heatPump,\n        hasBattery: selectedEquipment.batteryStorage,\n        solarPanelTypeIds: selectedModels.solar || [],\n        heatPumpTypeIds: selectedModels.heatPump || [],\n        batteryIds: selectedModels.battery || [],\n        houseArea: userData.houseArea || 100,\n        occupants: userData.occupants || 3,\n        roofArea: userData.roofArea || 30,\n        latitude: userData.latitude || 51.5,\n        longitude: userData.longitude || -0.1,\n        annualElectricityUsageKwh: userData.annualElectricityUsage || 3000,\n        annualGasUsageKwh: userData.annualGasUsage || 15000,\n        monthlyElectricityUsageKwh: userData.monthlyElectricityUsage || 250,\n        homeOccupancyFactor: userData.homeOccupancyFactor || 0.5,\n        electricityRate: userData.electricityRate || 30,\n        gasRate: userData.gasRate || 6,\n        exportRate: userData.exportRate || 5,\n        peakElectricityRate: userData.peakElectricityRate || 40,\n        offPeakElectricityRate: userData.offPeakElectricityRate || 15\n      };\n      const response = await fetch('http://localhost:8080/api/equipment/compare', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(comparisonRequest)\n      });\n      if (response.ok) {\n        const result = await response.json();\n        setComparisonData(result);\n      } else {\n        console.error('Failed to compare equipment');\n      }\n    } catch (error) {\n      console.error('Error comparing equipment:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleModelSelection = (equipmentType, modelId, isSelected) => {\n    setSelectedModels(prev => {\n      const updated = {\n        ...prev\n      };\n      if (!updated[equipmentType]) {\n        updated[equipmentType] = [];\n      }\n      if (isSelected) {\n        if (!updated[equipmentType].includes(modelId)) {\n          updated[equipmentType].push(modelId);\n        }\n      } else {\n        updated[equipmentType] = updated[equipmentType].filter(id => id !== modelId);\n      }\n      return updated;\n    });\n  };\n  const showMonthlyChart = (option, dataType, title) => {\n    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    let monthlyData = [];\n    switch (dataType) {\n      case 'generation':\n        monthlyData = option.monthlyGeneration || [];\n        break;\n      case 'costSavings':\n        monthlyData = option.monthlyCostSavings || [];\n        break;\n      case 'exportRevenue':\n        monthlyData = option.monthlyExportRevenue || [];\n        break;\n      case 'co2Direct':\n        monthlyData = option.monthlyDirectCO2Savings || [];\n        break;\n      case 'co2Indirect':\n        monthlyData = option.monthlyIndirectCO2Savings || [];\n        break;\n      default:\n        monthlyData = [];\n    }\n    const chartData = {\n      labels: months,\n      datasets: [{\n        label: title,\n        data: monthlyData,\n        borderColor: getChartColor(dataType),\n        backgroundColor: getChartColor(dataType) + '20',\n        tension: 0.4,\n        fill: true\n      }]\n    };\n    const chartOptions = {\n      responsive: true,\n      plugins: {\n        legend: {\n          position: 'top'\n        },\n        title: {\n          display: true,\n          text: `${option.equipmentName} - ${title}`\n        }\n      },\n      scales: {\n        y: {\n          beginAtZero: true\n        }\n      }\n    };\n    setShowChart({\n      visible: true,\n      data: chartData,\n      options: chartOptions,\n      title: `${option.equipmentName} - ${title}`\n    });\n  };\n  const getChartColor = dataType => {\n    const colors = {\n      generation: '#3498db',\n      costSavings: '#27ae60',\n      exportRevenue: '#f39c12',\n      co2Direct: '#e74c3c',\n      co2Indirect: '#9b59b6'\n    };\n    return colors[dataType] || '#34495e';\n  };\n  const formatCurrency = value => {\n    return value ? `£${value.toFixed(0)}` : '£0';\n  };\n  const formatNumber = (value, unit = '') => {\n    return value ? `${value.toFixed(1)}${unit}` : `0${unit}`;\n  };\n  const getSuitabilityBadge = score => {\n    if (score >= 80) return {\n      text: 'Excellent',\n      class: 'excellent'\n    };\n    if (score >= 70) return {\n      text: 'Good',\n      class: 'good'\n    };\n    if (score >= 60) return {\n      text: 'Fair',\n      class: 'fair'\n    };\n    return {\n      text: 'Poor',\n      class: 'poor'\n    };\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"equipment-comparison-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Loading Equipment Comparison...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Analyzing available equipment options for your property.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"equipment-comparison\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comparison-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Equipment Comparison & Selection\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Select specific equipment models to compare their performance, costs, and environmental impact.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"equipment-selection-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Select Equipment Models to Compare\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), Object.keys(availableEquipment).map(equipmentType => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"equipment-type-selection\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: getEquipmentTypeName(equipmentType)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"model-selection-grid\",\n          children: availableEquipment[equipmentType].map(model => {\n            var _selectedModels$equip;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"model-selection-item\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"model-checkbox\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: ((_selectedModels$equip = selectedModels[equipmentType]) === null || _selectedModels$equip === void 0 ? void 0 : _selectedModels$equip.includes(model.id)) || false,\n                  onChange: e => handleModelSelection(equipmentType, model.id, e.target.checked)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"checkmark\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"model-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"model-name\",\n                    children: model.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"model-manufacturer\",\n                    children: model.manufacturer || 'Various'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"model-specs\",\n                    children: getModelSpecs(model, equipmentType)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this)\n            }, model.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this)]\n      }, equipmentType, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary compare-button\",\n        onClick: handleCompareEquipment,\n        disabled: Object.keys(selectedModels).length === 0,\n        children: \"Compare Selected Equipment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this), comparisonData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comparison-results\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Equipment Comparison Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this), comparisonData.solarPanelOptions && comparisonData.solarPanelOptions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"equipment-comparison-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Solar Panels\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comparison-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"comparison-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Model\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Specifications\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Installation Cost\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"clickable-header\",\n                  title: \"Click to view monthly chart\",\n                  children: \"Annual Generation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"clickable-header\",\n                  title: \"Click to view monthly chart\",\n                  children: \"Annual Savings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"clickable-header\",\n                  title: \"Click to view monthly chart\",\n                  children: \"Export Revenue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"clickable-header\",\n                  title: \"Click to view monthly chart\",\n                  children: \"CO\\u2082 Savings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Payback Period\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Suitability\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: comparisonData.solarPanelOptions.map(option => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"equipment-name\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: option.equipmentName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: option.manufacturer\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"specifications\",\n                    children: [Object.entries(option.specifications).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [key, \": \", value]\n                    }, key, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 31\n                    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\"Qty: \", option.recommendedQuantity]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatCurrency(option.installationCost)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"clickable-cell\",\n                  onClick: () => showMonthlyChart(option, 'generation', 'Monthly Generation (kWh)'),\n                  children: formatNumber(option.annualGeneration, ' kWh')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"clickable-cell\",\n                  onClick: () => showMonthlyChart(option, 'costSavings', 'Monthly Cost Savings (£)'),\n                  children: formatCurrency(option.annualCostSavings)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"clickable-cell\",\n                  onClick: () => showMonthlyChart(option, 'exportRevenue', 'Monthly Export Revenue (£)'),\n                  children: formatCurrency(option.annualExportRevenue)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"clickable-cell\",\n                  onClick: () => showMonthlyChart(option, 'co2Indirect', 'Monthly CO₂ Savings (kg)'),\n                  children: formatNumber(option.annualTotalCO2Savings, ' kg')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatNumber(option.paybackPeriodYears, ' years')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `suitability-badge ${getSuitabilityBadge(option.suitabilityScore).class}`,\n                    children: getSuitabilityBadge(option.suitabilityScore).text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: option.suitabilityReason\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 25\n                }, this)]\n              }, option.equipmentId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 13\n      }, this), comparisonData.heatPumpOptions && comparisonData.heatPumpOptions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"equipment-comparison-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Heat Pumps\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comparison-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"comparison-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Model\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Specifications\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Installation Cost\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"clickable-header\",\n                  children: \"Annual Savings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"clickable-header\",\n                  children: \"CO\\u2082 Savings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Payback Period\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Suitability\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: comparisonData.heatPumpOptions.map(option => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"equipment-name\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: option.equipmentName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 401,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: option.manufacturer\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 402,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"specifications\",\n                    children: Object.entries(option.specifications).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [key, \": \", value]\n                    }, key, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 408,\n                      columnNumber: 31\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatCurrency(option.installationCost)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"clickable-cell\",\n                  onClick: () => showMonthlyChart(option, 'costSavings', 'Monthly Cost Savings (£)'),\n                  children: formatCurrency(option.annualCostSavings)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"clickable-cell\",\n                  onClick: () => showMonthlyChart(option, 'co2Direct', 'Monthly CO₂ Savings (kg)'),\n                  children: formatNumber(option.annualTotalCO2Savings, ' kg')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatNumber(option.paybackPeriodYears, ' years')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `suitability-badge ${getSuitabilityBadge(option.suitabilityScore).class}`,\n                    children: getSuitabilityBadge(option.suitabilityScore).text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 25\n                }, this)]\n              }, option.equipmentId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 13\n      }, this), comparisonData.batteryOptions && comparisonData.batteryOptions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"equipment-comparison-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Battery Storage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comparison-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"comparison-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Model\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Specifications\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Installation Cost\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"clickable-header\",\n                  children: \"Annual Savings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Payback Period\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Suitability\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: comparisonData.batteryOptions.map(option => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"equipment-name\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: option.equipmentName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 460,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: option.manufacturer\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 461,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"specifications\",\n                    children: Object.entries(option.specifications).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [key, \": \", value]\n                    }, key, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 467,\n                      columnNumber: 31\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatCurrency(option.installationCost)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"clickable-cell\",\n                  onClick: () => showMonthlyChart(option, 'costSavings', 'Monthly Cost Savings (£)'),\n                  children: formatCurrency(option.annualCostSavings)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatNumber(option.paybackPeriodYears, ' years')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `suitability-badge ${getSuitabilityBadge(option.suitabilityScore).class}`,\n                    children: getSuitabilityBadge(option.suitabilityScore).text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 480,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 25\n                }, this)]\n              }, option.equipmentId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 9\n    }, this), showChart.visible && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-modal-overlay\",\n      onClick: () => setShowChart({\n        visible: false,\n        data: null,\n        title: ''\n      }),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: showChart.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"chart-close-button\",\n            onClick: () => setShowChart({\n              visible: false,\n              data: null,\n              title: ''\n            }),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-container\",\n          children: /*#__PURE__*/_jsxDEV(Line, {\n            data: showChart.data,\n            options: showChart.options\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comparison-actions\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: onBack,\n        children: \"Back to Configuration\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 5\n  }, this);\n};\n\n// Helper functions\n_s(EquipmentComparison, \"07jcN11Cfb00rTfP4XxIk6WYPNo=\");\n_c = EquipmentComparison;\nconst getEquipmentTypeName = type => {\n  const names = {\n    solar: 'Solar Panels',\n    heatPump: 'Heat Pumps',\n    battery: 'Battery Storage'\n  };\n  return names[type] || type;\n};\nconst getModelSpecs = (model, type) => {\n  switch (type) {\n    case 'solar':\n      return `${model.ratedPowerPerPanel}W, ${model.efficiency}% efficiency`;\n    case 'heatPump':\n      return `COP: ${model.cop}`;\n    case 'battery':\n      return `${model.capacityKwh}kWh capacity`;\n    default:\n      return '';\n  }\n};\nexport default EquipmentComparison;\nvar _c;\n$RefreshReg$(_c, \"EquipmentComparison\");","map":{"version":3,"names":["React","useState","useEffect","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","jsxDEV","_jsxDEV","register","EquipmentComparison","selectedEquipment","userData","onBack","_s","comparisonData","setComparisonData","availableEquipment","setAvailableEquipment","selectedModels","setSelectedModels","loading","setLoading","showChart","setShowChart","visible","data","title","loadAvailableEquipment","promises","solarPanels","push","fetch","then","res","json","type","heatPump","batteryStorage","results","Promise","all","available","forEach","result","defaultSelections","Object","keys","slice","map","item","id","error","console","handleCompareEquipment","length","comparisonRequest","hasSolarPanels","hasHeatPump","hasBattery","solarPanelTypeIds","solar","heatPumpTypeIds","batteryIds","battery","houseArea","occupants","roofArea","latitude","longitude","annualElectricityUsageKwh","annualElectricityUsage","annualGasUsageKwh","annualGasUsage","monthlyElectricityUsageKwh","monthlyElectricityUsage","homeOccupancyFactor","electricityRate","gasRate","exportRate","peakElectricityRate","offPeakElectricityRate","response","method","headers","body","JSON","stringify","ok","handleModelSelection","equipmentType","modelId","isSelected","prev","updated","includes","filter","showMonthlyChart","option","dataType","months","monthlyData","monthlyGeneration","monthlyCostSavings","monthlyExportRevenue","monthlyDirectCO2Savings","monthlyIndirectCO2Savings","chartData","labels","datasets","label","borderColor","getChartColor","backgroundColor","tension","fill","chartOptions","responsive","plugins","legend","position","display","text","equipmentName","scales","y","beginAtZero","options","colors","generation","costSavings","exportRevenue","co2Direct","co2Indirect","formatCurrency","value","toFixed","formatNumber","unit","getSuitabilityBadge","score","class","className","children","fileName","_jsxFileName","lineNumber","columnNumber","getEquipmentTypeName","model","_selectedModels$equip","checked","onChange","e","target","name","manufacturer","getModelSpecs","onClick","disabled","solarPanelOptions","entries","specifications","key","recommendedQuantity","installationCost","annualGeneration","annualCostSavings","annualExportRevenue","annualTotalCO2Savings","paybackPeriodYears","suitabilityScore","suitabilityReason","equipmentId","heatPumpOptions","batteryOptions","stopPropagation","_c","names","ratedPowerPerPanel","efficiency","cop","capacityKwh","$RefreshReg$"],"sources":["/Users/xuefei/Desktop/calculator00/calculator/renewableCalculator.ui/src/components/steps/EquipmentComparison.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nconst EquipmentComparison = ({ selectedEquipment, userData, onBack }) => {\n  const [comparisonData, setComparisonData] = useState(null);\n  const [availableEquipment, setAvailableEquipment] = useState({});\n  const [selectedModels, setSelectedModels] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [showChart, setShowChart] = useState({ visible: false, data: null, title: '' });\n\n  useEffect(() => {\n    if (selectedEquipment) {\n      loadAvailableEquipment();\n    }\n  }, [selectedEquipment]);\n\n  const loadAvailableEquipment = async () => {\n    try {\n      const promises = [];\n      \n      if (selectedEquipment.solarPanels) {\n        promises.push(\n          fetch('http://localhost:8080/api/equipment/solar-panels/available')\n            .then(res => res.json())\n            .then(data => ({ type: 'solar', data }))\n        );\n      }\n      \n      if (selectedEquipment.heatPump) {\n        promises.push(\n          fetch('http://localhost:8080/api/equipment/heat-pumps/available')\n            .then(res => res.json())\n            .then(data => ({ type: 'heatPump', data }))\n        );\n      }\n      \n      if (selectedEquipment.batteryStorage) {\n        promises.push(\n          fetch('http://localhost:8080/api/equipment/batteries/available')\n            .then(res => res.json())\n            .then(data => ({ type: 'battery', data }))\n        );\n      }\n\n      const results = await Promise.all(promises);\n      \n      const available = {};\n      results.forEach(result => {\n        available[result.type] = result.data;\n      });\n      \n      setAvailableEquipment(available);\n      \n      // Set default selections (first 2-3 items for each type)\n      const defaultSelections = {};\n      Object.keys(available).forEach(type => {\n        defaultSelections[type] = available[type].slice(0, 3).map(item => item.id);\n      });\n      setSelectedModels(defaultSelections);\n      \n    } catch (error) {\n      console.error('Error loading available equipment:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCompareEquipment = async () => {\n    if (Object.keys(selectedModels).length === 0) return;\n\n    setLoading(true);\n    try {\n      const comparisonRequest = {\n        hasSolarPanels: selectedEquipment.solarPanels,\n        hasHeatPump: selectedEquipment.heatPump,\n        hasBattery: selectedEquipment.batteryStorage,\n        solarPanelTypeIds: selectedModels.solar || [],\n        heatPumpTypeIds: selectedModels.heatPump || [],\n        batteryIds: selectedModels.battery || [],\n        houseArea: userData.houseArea || 100,\n        occupants: userData.occupants || 3,\n        roofArea: userData.roofArea || 30,\n        latitude: userData.latitude || 51.5,\n        longitude: userData.longitude || -0.1,\n        annualElectricityUsageKwh: userData.annualElectricityUsage || 3000,\n        annualGasUsageKwh: userData.annualGasUsage || 15000,\n        monthlyElectricityUsageKwh: userData.monthlyElectricityUsage || 250,\n        homeOccupancyFactor: userData.homeOccupancyFactor || 0.5,\n        electricityRate: userData.electricityRate || 30,\n        gasRate: userData.gasRate || 6,\n        exportRate: userData.exportRate || 5,\n        peakElectricityRate: userData.peakElectricityRate || 40,\n        offPeakElectricityRate: userData.offPeakElectricityRate || 15,\n      };\n\n      const response = await fetch('http://localhost:8080/api/equipment/compare', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(comparisonRequest)\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        setComparisonData(result);\n      } else {\n        console.error('Failed to compare equipment');\n      }\n    } catch (error) {\n      console.error('Error comparing equipment:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleModelSelection = (equipmentType, modelId, isSelected) => {\n    setSelectedModels(prev => {\n      const updated = { ...prev };\n      if (!updated[equipmentType]) {\n        updated[equipmentType] = [];\n      }\n      \n      if (isSelected) {\n        if (!updated[equipmentType].includes(modelId)) {\n          updated[equipmentType].push(modelId);\n        }\n      } else {\n        updated[equipmentType] = updated[equipmentType].filter(id => id !== modelId);\n      }\n      \n      return updated;\n    });\n  };\n\n  const showMonthlyChart = (option, dataType, title) => {\n    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', \n                   'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    \n    let monthlyData = [];\n    switch (dataType) {\n      case 'generation':\n        monthlyData = option.monthlyGeneration || [];\n        break;\n      case 'costSavings':\n        monthlyData = option.monthlyCostSavings || [];\n        break;\n      case 'exportRevenue':\n        monthlyData = option.monthlyExportRevenue || [];\n        break;\n      case 'co2Direct':\n        monthlyData = option.monthlyDirectCO2Savings || [];\n        break;\n      case 'co2Indirect':\n        monthlyData = option.monthlyIndirectCO2Savings || [];\n        break;\n      default:\n        monthlyData = [];\n    }\n\n    const chartData = {\n      labels: months,\n      datasets: [{\n        label: title,\n        data: monthlyData,\n        borderColor: getChartColor(dataType),\n        backgroundColor: getChartColor(dataType) + '20',\n        tension: 0.4,\n        fill: true\n      }]\n    };\n\n    const chartOptions = {\n      responsive: true,\n      plugins: {\n        legend: { position: 'top' },\n        title: { display: true, text: `${option.equipmentName} - ${title}` }\n      },\n      scales: {\n        y: { beginAtZero: true }\n      }\n    };\n\n    setShowChart({\n      visible: true,\n      data: chartData,\n      options: chartOptions,\n      title: `${option.equipmentName} - ${title}`\n    });\n  };\n\n  const getChartColor = (dataType) => {\n    const colors = {\n      generation: '#3498db',\n      costSavings: '#27ae60',\n      exportRevenue: '#f39c12',\n      co2Direct: '#e74c3c',\n      co2Indirect: '#9b59b6'\n    };\n    return colors[dataType] || '#34495e';\n  };\n\n  const formatCurrency = (value) => {\n    return value ? `£${value.toFixed(0)}` : '£0';\n  };\n\n  const formatNumber = (value, unit = '') => {\n    return value ? `${value.toFixed(1)}${unit}` : `0${unit}`;\n  };\n\n  const getSuitabilityBadge = (score) => {\n    if (score >= 80) return { text: 'Excellent', class: 'excellent' };\n    if (score >= 70) return { text: 'Good', class: 'good' };\n    if (score >= 60) return { text: 'Fair', class: 'fair' };\n    return { text: 'Poor', class: 'poor' };\n  };\n\n  if (loading) {\n    return (\n      <div className=\"equipment-comparison-loading\">\n        <h3>Loading Equipment Comparison...</h3>\n        <p>Analyzing available equipment options for your property.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"equipment-comparison\">\n      <div className=\"comparison-header\">\n        <h3>Equipment Comparison & Selection</h3>\n        <p>Select specific equipment models to compare their performance, costs, and environmental impact.</p>\n      </div>\n\n      {/* Equipment Selection */}\n      <div className=\"equipment-selection-section\">\n        <h4>Select Equipment Models to Compare</h4>\n        \n        {Object.keys(availableEquipment).map(equipmentType => (\n          <div key={equipmentType} className=\"equipment-type-selection\">\n            <h5>{getEquipmentTypeName(equipmentType)}</h5>\n            <div className=\"model-selection-grid\">\n              {availableEquipment[equipmentType].map(model => (\n                <div key={model.id} className=\"model-selection-item\">\n                  <label className=\"model-checkbox\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedModels[equipmentType]?.includes(model.id) || false}\n                      onChange={(e) => handleModelSelection(equipmentType, model.id, e.target.checked)}\n                    />\n                    <span className=\"checkmark\"></span>\n                    <div className=\"model-info\">\n                      <span className=\"model-name\">{model.name}</span>\n                      <span className=\"model-manufacturer\">{model.manufacturer || 'Various'}</span>\n                      <span className=\"model-specs\">{getModelSpecs(model, equipmentType)}</span>\n                    </div>\n                  </label>\n                </div>\n              ))}\n            </div>\n          </div>\n        ))}\n\n        <button \n          className=\"btn btn-primary compare-button\"\n          onClick={handleCompareEquipment}\n          disabled={Object.keys(selectedModels).length === 0}\n        >\n          Compare Selected Equipment\n        </button>\n      </div>\n\n      {/* Comparison Results */}\n      {comparisonData && (\n        <div className=\"comparison-results\">\n          <h4>Equipment Comparison Results</h4>\n          \n          {/* Solar Panels Comparison */}\n          {comparisonData.solarPanelOptions && comparisonData.solarPanelOptions.length > 0 && (\n            <div className=\"equipment-comparison-table\">\n              <h5>Solar Panels</h5>\n              <div className=\"comparison-table-container\">\n                <table className=\"comparison-table\">\n                  <thead>\n                    <tr>\n                      <th>Model</th>\n                      <th>Specifications</th>\n                      <th>Installation Cost</th>\n                      <th className=\"clickable-header\" title=\"Click to view monthly chart\">\n                        Annual Generation\n                      </th>\n                      <th className=\"clickable-header\" title=\"Click to view monthly chart\">\n                        Annual Savings\n                      </th>\n                      <th className=\"clickable-header\" title=\"Click to view monthly chart\">\n                        Export Revenue\n                      </th>\n                      <th className=\"clickable-header\" title=\"Click to view monthly chart\">\n                        CO₂ Savings\n                      </th>\n                      <th>Payback Period</th>\n                      <th>Suitability</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {comparisonData.solarPanelOptions.map(option => (\n                      <tr key={option.equipmentId}>\n                        <td>\n                          <div className=\"equipment-name\">\n                            <strong>{option.equipmentName}</strong>\n                            <small>{option.manufacturer}</small>\n                          </div>\n                        </td>\n                        <td>\n                          <div className=\"specifications\">\n                            {Object.entries(option.specifications).map(([key, value]) => (\n                              <div key={key}>{key}: {value}</div>\n                            ))}\n                            <div>Qty: {option.recommendedQuantity}</div>\n                          </div>\n                        </td>\n                        <td>{formatCurrency(option.installationCost)}</td>\n                        <td \n                          className=\"clickable-cell\"\n                          onClick={() => showMonthlyChart(option, 'generation', 'Monthly Generation (kWh)')}\n                        >\n                          {formatNumber(option.annualGeneration, ' kWh')}\n                        </td>\n                        <td \n                          className=\"clickable-cell\"\n                          onClick={() => showMonthlyChart(option, 'costSavings', 'Monthly Cost Savings (£)')}\n                        >\n                          {formatCurrency(option.annualCostSavings)}\n                        </td>\n                        <td \n                          className=\"clickable-cell\"\n                          onClick={() => showMonthlyChart(option, 'exportRevenue', 'Monthly Export Revenue (£)')}\n                        >\n                          {formatCurrency(option.annualExportRevenue)}\n                        </td>\n                        <td \n                          className=\"clickable-cell\"\n                          onClick={() => showMonthlyChart(option, 'co2Indirect', 'Monthly CO₂ Savings (kg)')}\n                        >\n                          {formatNumber(option.annualTotalCO2Savings, ' kg')}\n                        </td>\n                        <td>{formatNumber(option.paybackPeriodYears, ' years')}</td>\n                        <td>\n                          <span className={`suitability-badge ${getSuitabilityBadge(option.suitabilityScore).class}`}>\n                            {getSuitabilityBadge(option.suitabilityScore).text}\n                          </span>\n                          <small>{option.suitabilityReason}</small>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n\n          {/* Heat Pumps Comparison */}\n          {comparisonData.heatPumpOptions && comparisonData.heatPumpOptions.length > 0 && (\n            <div className=\"equipment-comparison-table\">\n              <h5>Heat Pumps</h5>\n              <div className=\"comparison-table-container\">\n                <table className=\"comparison-table\">\n                  <thead>\n                    <tr>\n                      <th>Model</th>\n                      <th>Specifications</th>\n                      <th>Installation Cost</th>\n                      <th className=\"clickable-header\">Annual Savings</th>\n                      <th className=\"clickable-header\">CO₂ Savings</th>\n                      <th>Payback Period</th>\n                      <th>Suitability</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {comparisonData.heatPumpOptions.map(option => (\n                      <tr key={option.equipmentId}>\n                        <td>\n                          <div className=\"equipment-name\">\n                            <strong>{option.equipmentName}</strong>\n                            <small>{option.manufacturer}</small>\n                          </div>\n                        </td>\n                        <td>\n                          <div className=\"specifications\">\n                            {Object.entries(option.specifications).map(([key, value]) => (\n                              <div key={key}>{key}: {value}</div>\n                            ))}\n                          </div>\n                        </td>\n                        <td>{formatCurrency(option.installationCost)}</td>\n                        <td \n                          className=\"clickable-cell\"\n                          onClick={() => showMonthlyChart(option, 'costSavings', 'Monthly Cost Savings (£)')}\n                        >\n                          {formatCurrency(option.annualCostSavings)}\n                        </td>\n                        <td \n                          className=\"clickable-cell\"\n                          onClick={() => showMonthlyChart(option, 'co2Direct', 'Monthly CO₂ Savings (kg)')}\n                        >\n                          {formatNumber(option.annualTotalCO2Savings, ' kg')}\n                        </td>\n                        <td>{formatNumber(option.paybackPeriodYears, ' years')}</td>\n                        <td>\n                          <span className={`suitability-badge ${getSuitabilityBadge(option.suitabilityScore).class}`}>\n                            {getSuitabilityBadge(option.suitabilityScore).text}\n                          </span>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n\n          {/* Battery Comparison */}\n          {comparisonData.batteryOptions && comparisonData.batteryOptions.length > 0 && (\n            <div className=\"equipment-comparison-table\">\n              <h5>Battery Storage</h5>\n              <div className=\"comparison-table-container\">\n                <table className=\"comparison-table\">\n                  <thead>\n                    <tr>\n                      <th>Model</th>\n                      <th>Specifications</th>\n                      <th>Installation Cost</th>\n                      <th className=\"clickable-header\">Annual Savings</th>\n                      <th>Payback Period</th>\n                      <th>Suitability</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {comparisonData.batteryOptions.map(option => (\n                      <tr key={option.equipmentId}>\n                        <td>\n                          <div className=\"equipment-name\">\n                            <strong>{option.equipmentName}</strong>\n                            <small>{option.manufacturer}</small>\n                          </div>\n                        </td>\n                        <td>\n                          <div className=\"specifications\">\n                            {Object.entries(option.specifications).map(([key, value]) => (\n                              <div key={key}>{key}: {value}</div>\n                            ))}\n                          </div>\n                        </td>\n                        <td>{formatCurrency(option.installationCost)}</td>\n                        <td \n                          className=\"clickable-cell\"\n                          onClick={() => showMonthlyChart(option, 'costSavings', 'Monthly Cost Savings (£)')}\n                        >\n                          {formatCurrency(option.annualCostSavings)}\n                        </td>\n                        <td>{formatNumber(option.paybackPeriodYears, ' years')}</td>\n                        <td>\n                          <span className={`suitability-badge ${getSuitabilityBadge(option.suitabilityScore).class}`}>\n                            {getSuitabilityBadge(option.suitabilityScore).text}\n                          </span>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Monthly Chart Modal */}\n      {showChart.visible && (\n        <div className=\"chart-modal-overlay\" onClick={() => setShowChart({ visible: false, data: null, title: '' })}>\n          <div className=\"chart-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"chart-modal-header\">\n              <h4>{showChart.title}</h4>\n              <button \n                className=\"chart-close-button\"\n                onClick={() => setShowChart({ visible: false, data: null, title: '' })}\n              >\n                ×\n              </button>\n            </div>\n            <div className=\"chart-container\">\n              <Line data={showChart.data} options={showChart.options} />\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"comparison-actions\">\n        <button className=\"btn btn-secondary\" onClick={onBack}>\n          Back to Configuration\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// Helper functions\nconst getEquipmentTypeName = (type) => {\n  const names = {\n    solar: 'Solar Panels',\n    heatPump: 'Heat Pumps',\n    battery: 'Battery Storage'\n  };\n  return names[type] || type;\n};\n\nconst getModelSpecs = (model, type) => {\n  switch (type) {\n    case 'solar':\n      return `${model.ratedPowerPerPanel}W, ${model.efficiency}% efficiency`;\n    case 'heatPump':\n      return `COP: ${model.cop}`;\n    case 'battery':\n      return `${model.capacityKwh}kWh capacity`;\n    default:\n      return '';\n  }\n};\n\nexport default EquipmentComparison; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,IAAI,QAAQ,iBAAiB;AACtC,SACEC,KAAK,IAAIC,OAAO,EAChBC,aAAa,EACbC,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,KAAK,EACLC,OAAO,EACPC,MAAM,QACD,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElBT,OAAO,CAACU,QAAQ,CACdT,aAAa,EACbC,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,KAAK,EACLC,OAAO,EACPC,MACF,CAAC;AAED,MAAMI,mBAAmB,GAAGA,CAAC;EAAEC,iBAAiB;EAAEC,QAAQ;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EACvE,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACsB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGvB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAChE,MAAM,CAACwB,cAAc,EAAEC,iBAAiB,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxD,MAAM,CAAC0B,OAAO,EAAEC,UAAU,CAAC,GAAG3B,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC4B,SAAS,EAAEC,YAAY,CAAC,GAAG7B,QAAQ,CAAC;IAAE8B,OAAO,EAAE,KAAK;IAAEC,IAAI,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAG,CAAC,CAAC;EAErF/B,SAAS,CAAC,MAAM;IACd,IAAIe,iBAAiB,EAAE;MACrBiB,sBAAsB,CAAC,CAAC;IAC1B;EACF,CAAC,EAAE,CAACjB,iBAAiB,CAAC,CAAC;EAEvB,MAAMiB,sBAAsB,GAAG,MAAAA,CAAA,KAAY;IACzC,IAAI;MACF,MAAMC,QAAQ,GAAG,EAAE;MAEnB,IAAIlB,iBAAiB,CAACmB,WAAW,EAAE;QACjCD,QAAQ,CAACE,IAAI,CACXC,KAAK,CAAC,4DAA4D,CAAC,CAChEC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACP,IAAI,KAAK;UAAEU,IAAI,EAAE,OAAO;UAAEV;QAAK,CAAC,CAAC,CAC3C,CAAC;MACH;MAEA,IAAIf,iBAAiB,CAAC0B,QAAQ,EAAE;QAC9BR,QAAQ,CAACE,IAAI,CACXC,KAAK,CAAC,0DAA0D,CAAC,CAC9DC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACP,IAAI,KAAK;UAAEU,IAAI,EAAE,UAAU;UAAEV;QAAK,CAAC,CAAC,CAC9C,CAAC;MACH;MAEA,IAAIf,iBAAiB,CAAC2B,cAAc,EAAE;QACpCT,QAAQ,CAACE,IAAI,CACXC,KAAK,CAAC,yDAAyD,CAAC,CAC7DC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACP,IAAI,KAAK;UAAEU,IAAI,EAAE,SAAS;UAAEV;QAAK,CAAC,CAAC,CAC7C,CAAC;MACH;MAEA,MAAMa,OAAO,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACZ,QAAQ,CAAC;MAE3C,MAAMa,SAAS,GAAG,CAAC,CAAC;MACpBH,OAAO,CAACI,OAAO,CAACC,MAAM,IAAI;QACxBF,SAAS,CAACE,MAAM,CAACR,IAAI,CAAC,GAAGQ,MAAM,CAAClB,IAAI;MACtC,CAAC,CAAC;MAEFR,qBAAqB,CAACwB,SAAS,CAAC;;MAEhC;MACA,MAAMG,iBAAiB,GAAG,CAAC,CAAC;MAC5BC,MAAM,CAACC,IAAI,CAACL,SAAS,CAAC,CAACC,OAAO,CAACP,IAAI,IAAI;QACrCS,iBAAiB,CAACT,IAAI,CAAC,GAAGM,SAAS,CAACN,IAAI,CAAC,CAACY,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,CAAC;MAC5E,CAAC,CAAC;MACF/B,iBAAiB,CAACyB,iBAAiB,CAAC;IAEtC,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;IAC5D,CAAC,SAAS;MACR9B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMgC,sBAAsB,GAAG,MAAAA,CAAA,KAAY;IACzC,IAAIR,MAAM,CAACC,IAAI,CAAC5B,cAAc,CAAC,CAACoC,MAAM,KAAK,CAAC,EAAE;IAE9CjC,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMkC,iBAAiB,GAAG;QACxBC,cAAc,EAAE9C,iBAAiB,CAACmB,WAAW;QAC7C4B,WAAW,EAAE/C,iBAAiB,CAAC0B,QAAQ;QACvCsB,UAAU,EAAEhD,iBAAiB,CAAC2B,cAAc;QAC5CsB,iBAAiB,EAAEzC,cAAc,CAAC0C,KAAK,IAAI,EAAE;QAC7CC,eAAe,EAAE3C,cAAc,CAACkB,QAAQ,IAAI,EAAE;QAC9C0B,UAAU,EAAE5C,cAAc,CAAC6C,OAAO,IAAI,EAAE;QACxCC,SAAS,EAAErD,QAAQ,CAACqD,SAAS,IAAI,GAAG;QACpCC,SAAS,EAAEtD,QAAQ,CAACsD,SAAS,IAAI,CAAC;QAClCC,QAAQ,EAAEvD,QAAQ,CAACuD,QAAQ,IAAI,EAAE;QACjCC,QAAQ,EAAExD,QAAQ,CAACwD,QAAQ,IAAI,IAAI;QACnCC,SAAS,EAAEzD,QAAQ,CAACyD,SAAS,IAAI,CAAC,GAAG;QACrCC,yBAAyB,EAAE1D,QAAQ,CAAC2D,sBAAsB,IAAI,IAAI;QAClEC,iBAAiB,EAAE5D,QAAQ,CAAC6D,cAAc,IAAI,KAAK;QACnDC,0BAA0B,EAAE9D,QAAQ,CAAC+D,uBAAuB,IAAI,GAAG;QACnEC,mBAAmB,EAAEhE,QAAQ,CAACgE,mBAAmB,IAAI,GAAG;QACxDC,eAAe,EAAEjE,QAAQ,CAACiE,eAAe,IAAI,EAAE;QAC/CC,OAAO,EAAElE,QAAQ,CAACkE,OAAO,IAAI,CAAC;QAC9BC,UAAU,EAAEnE,QAAQ,CAACmE,UAAU,IAAI,CAAC;QACpCC,mBAAmB,EAAEpE,QAAQ,CAACoE,mBAAmB,IAAI,EAAE;QACvDC,sBAAsB,EAAErE,QAAQ,CAACqE,sBAAsB,IAAI;MAC7D,CAAC;MAED,MAAMC,QAAQ,GAAG,MAAMlD,KAAK,CAAC,6CAA6C,EAAE;QAC1EmD,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC/B,iBAAiB;MACxC,CAAC,CAAC;MAEF,IAAI0B,QAAQ,CAACM,EAAE,EAAE;QACf,MAAM5C,MAAM,GAAG,MAAMsC,QAAQ,CAAC/C,IAAI,CAAC,CAAC;QACpCnB,iBAAiB,CAAC4B,MAAM,CAAC;MAC3B,CAAC,MAAM;QACLS,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAC;MAC9C;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACpD,CAAC,SAAS;MACR9B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMmE,oBAAoB,GAAGA,CAACC,aAAa,EAAEC,OAAO,EAAEC,UAAU,KAAK;IACnExE,iBAAiB,CAACyE,IAAI,IAAI;MACxB,MAAMC,OAAO,GAAG;QAAE,GAAGD;MAAK,CAAC;MAC3B,IAAI,CAACC,OAAO,CAACJ,aAAa,CAAC,EAAE;QAC3BI,OAAO,CAACJ,aAAa,CAAC,GAAG,EAAE;MAC7B;MAEA,IAAIE,UAAU,EAAE;QACd,IAAI,CAACE,OAAO,CAACJ,aAAa,CAAC,CAACK,QAAQ,CAACJ,OAAO,CAAC,EAAE;UAC7CG,OAAO,CAACJ,aAAa,CAAC,CAAC3D,IAAI,CAAC4D,OAAO,CAAC;QACtC;MACF,CAAC,MAAM;QACLG,OAAO,CAACJ,aAAa,CAAC,GAAGI,OAAO,CAACJ,aAAa,CAAC,CAACM,MAAM,CAAC7C,EAAE,IAAIA,EAAE,KAAKwC,OAAO,CAAC;MAC9E;MAEA,OAAOG,OAAO;IAChB,CAAC,CAAC;EACJ,CAAC;EAED,MAAMG,gBAAgB,GAAGA,CAACC,MAAM,EAAEC,QAAQ,EAAExE,KAAK,KAAK;IACpD,MAAMyE,MAAM,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EACzC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;IAExD,IAAIC,WAAW,GAAG,EAAE;IACpB,QAAQF,QAAQ;MACd,KAAK,YAAY;QACfE,WAAW,GAAGH,MAAM,CAACI,iBAAiB,IAAI,EAAE;QAC5C;MACF,KAAK,aAAa;QAChBD,WAAW,GAAGH,MAAM,CAACK,kBAAkB,IAAI,EAAE;QAC7C;MACF,KAAK,eAAe;QAClBF,WAAW,GAAGH,MAAM,CAACM,oBAAoB,IAAI,EAAE;QAC/C;MACF,KAAK,WAAW;QACdH,WAAW,GAAGH,MAAM,CAACO,uBAAuB,IAAI,EAAE;QAClD;MACF,KAAK,aAAa;QAChBJ,WAAW,GAAGH,MAAM,CAACQ,yBAAyB,IAAI,EAAE;QACpD;MACF;QACEL,WAAW,GAAG,EAAE;IACpB;IAEA,MAAMM,SAAS,GAAG;MAChBC,MAAM,EAAER,MAAM;MACdS,QAAQ,EAAE,CAAC;QACTC,KAAK,EAAEnF,KAAK;QACZD,IAAI,EAAE2E,WAAW;QACjBU,WAAW,EAAEC,aAAa,CAACb,QAAQ,CAAC;QACpCc,eAAe,EAAED,aAAa,CAACb,QAAQ,CAAC,GAAG,IAAI;QAC/Ce,OAAO,EAAE,GAAG;QACZC,IAAI,EAAE;MACR,CAAC;IACH,CAAC;IAED,MAAMC,YAAY,GAAG;MACnBC,UAAU,EAAE,IAAI;MAChBC,OAAO,EAAE;QACPC,MAAM,EAAE;UAAEC,QAAQ,EAAE;QAAM,CAAC;QAC3B7F,KAAK,EAAE;UAAE8F,OAAO,EAAE,IAAI;UAAEC,IAAI,EAAE,GAAGxB,MAAM,CAACyB,aAAa,MAAMhG,KAAK;QAAG;MACrE,CAAC;MACDiG,MAAM,EAAE;QACNC,CAAC,EAAE;UAAEC,WAAW,EAAE;QAAK;MACzB;IACF,CAAC;IAEDtG,YAAY,CAAC;MACXC,OAAO,EAAE,IAAI;MACbC,IAAI,EAAEiF,SAAS;MACfoB,OAAO,EAAEX,YAAY;MACrBzF,KAAK,EAAE,GAAGuE,MAAM,CAACyB,aAAa,MAAMhG,KAAK;IAC3C,CAAC,CAAC;EACJ,CAAC;EAED,MAAMqF,aAAa,GAAIb,QAAQ,IAAK;IAClC,MAAM6B,MAAM,GAAG;MACbC,UAAU,EAAE,SAAS;MACrBC,WAAW,EAAE,SAAS;MACtBC,aAAa,EAAE,SAAS;MACxBC,SAAS,EAAE,SAAS;MACpBC,WAAW,EAAE;IACf,CAAC;IACD,OAAOL,MAAM,CAAC7B,QAAQ,CAAC,IAAI,SAAS;EACtC,CAAC;EAED,MAAMmC,cAAc,GAAIC,KAAK,IAAK;IAChC,OAAOA,KAAK,GAAG,IAAIA,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI;EAC9C,CAAC;EAED,MAAMC,YAAY,GAAGA,CAACF,KAAK,EAAEG,IAAI,GAAG,EAAE,KAAK;IACzC,OAAOH,KAAK,GAAG,GAAGA,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,GAAGE,IAAI,EAAE,GAAG,IAAIA,IAAI,EAAE;EAC1D,CAAC;EAED,MAAMC,mBAAmB,GAAIC,KAAK,IAAK;IACrC,IAAIA,KAAK,IAAI,EAAE,EAAE,OAAO;MAAElB,IAAI,EAAE,WAAW;MAAEmB,KAAK,EAAE;IAAY,CAAC;IACjE,IAAID,KAAK,IAAI,EAAE,EAAE,OAAO;MAAElB,IAAI,EAAE,MAAM;MAAEmB,KAAK,EAAE;IAAO,CAAC;IACvD,IAAID,KAAK,IAAI,EAAE,EAAE,OAAO;MAAElB,IAAI,EAAE,MAAM;MAAEmB,KAAK,EAAE;IAAO,CAAC;IACvD,OAAO;MAAEnB,IAAI,EAAE,MAAM;MAAEmB,KAAK,EAAE;IAAO,CAAC;EACxC,CAAC;EAED,IAAIxH,OAAO,EAAE;IACX,oBACEb,OAAA;MAAKsI,SAAS,EAAC,8BAA8B;MAAAC,QAAA,gBAC3CvI,OAAA;QAAAuI,QAAA,EAAI;MAA+B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACxC3I,OAAA;QAAAuI,QAAA,EAAG;MAAwD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5D,CAAC;EAEV;EAEA,oBACE3I,OAAA;IAAKsI,SAAS,EAAC,sBAAsB;IAAAC,QAAA,gBACnCvI,OAAA;MAAKsI,SAAS,EAAC,mBAAmB;MAAAC,QAAA,gBAChCvI,OAAA;QAAAuI,QAAA,EAAI;MAAgC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzC3I,OAAA;QAAAuI,QAAA,EAAG;MAA+F;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnG,CAAC,eAGN3I,OAAA;MAAKsI,SAAS,EAAC,6BAA6B;MAAAC,QAAA,gBAC1CvI,OAAA;QAAAuI,QAAA,EAAI;MAAkC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAE1CrG,MAAM,CAACC,IAAI,CAAC9B,kBAAkB,CAAC,CAACgC,GAAG,CAACyC,aAAa,iBAChDlF,OAAA;QAAyBsI,SAAS,EAAC,0BAA0B;QAAAC,QAAA,gBAC3DvI,OAAA;UAAAuI,QAAA,EAAKK,oBAAoB,CAAC1D,aAAa;QAAC;UAAAsD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC9C3I,OAAA;UAAKsI,SAAS,EAAC,sBAAsB;UAAAC,QAAA,EAClC9H,kBAAkB,CAACyE,aAAa,CAAC,CAACzC,GAAG,CAACoG,KAAK;YAAA,IAAAC,qBAAA;YAAA,oBAC1C9I,OAAA;cAAoBsI,SAAS,EAAC,sBAAsB;cAAAC,QAAA,eAClDvI,OAAA;gBAAOsI,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,gBAC/BvI,OAAA;kBACE4B,IAAI,EAAC,UAAU;kBACfmH,OAAO,EAAE,EAAAD,qBAAA,GAAAnI,cAAc,CAACuE,aAAa,CAAC,cAAA4D,qBAAA,uBAA7BA,qBAAA,CAA+BvD,QAAQ,CAACsD,KAAK,CAAClG,EAAE,CAAC,KAAI,KAAM;kBACpEqG,QAAQ,EAAGC,CAAC,IAAKhE,oBAAoB,CAACC,aAAa,EAAE2D,KAAK,CAAClG,EAAE,EAAEsG,CAAC,CAACC,MAAM,CAACH,OAAO;gBAAE;kBAAAP,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClF,CAAC,eACF3I,OAAA;kBAAMsI,SAAS,EAAC;gBAAW;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACnC3I,OAAA;kBAAKsI,SAAS,EAAC,YAAY;kBAAAC,QAAA,gBACzBvI,OAAA;oBAAMsI,SAAS,EAAC,YAAY;oBAAAC,QAAA,EAAEM,KAAK,CAACM;kBAAI;oBAAAX,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eAChD3I,OAAA;oBAAMsI,SAAS,EAAC,oBAAoB;oBAAAC,QAAA,EAAEM,KAAK,CAACO,YAAY,IAAI;kBAAS;oBAAAZ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eAC7E3I,OAAA;oBAAMsI,SAAS,EAAC,aAAa;oBAAAC,QAAA,EAAEc,aAAa,CAACR,KAAK,EAAE3D,aAAa;kBAAC;oBAAAsD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD;YAAC,GAbAE,KAAK,CAAClG,EAAE;cAAA6F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAcb,CAAC;UAAA,CACP;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA,GApBEzD,aAAa;QAAAsD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAqBlB,CACN,CAAC,eAEF3I,OAAA;QACEsI,SAAS,EAAC,gCAAgC;QAC1CgB,OAAO,EAAExG,sBAAuB;QAChCyG,QAAQ,EAAEjH,MAAM,CAACC,IAAI,CAAC5B,cAAc,CAAC,CAACoC,MAAM,KAAK,CAAE;QAAAwF,QAAA,EACpD;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAGLpI,cAAc,iBACbP,OAAA;MAAKsI,SAAS,EAAC,oBAAoB;MAAAC,QAAA,gBACjCvI,OAAA;QAAAuI,QAAA,EAAI;MAA4B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAGpCpI,cAAc,CAACiJ,iBAAiB,IAAIjJ,cAAc,CAACiJ,iBAAiB,CAACzG,MAAM,GAAG,CAAC,iBAC9E/C,OAAA;QAAKsI,SAAS,EAAC,4BAA4B;QAAAC,QAAA,gBACzCvI,OAAA;UAAAuI,QAAA,EAAI;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrB3I,OAAA;UAAKsI,SAAS,EAAC,4BAA4B;UAAAC,QAAA,eACzCvI,OAAA;YAAOsI,SAAS,EAAC,kBAAkB;YAAAC,QAAA,gBACjCvI,OAAA;cAAAuI,QAAA,eACEvI,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAAuI,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACd3I,OAAA;kBAAAuI,QAAA,EAAI;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACvB3I,OAAA;kBAAAuI,QAAA,EAAI;gBAAiB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC1B3I,OAAA;kBAAIsI,SAAS,EAAC,kBAAkB;kBAACnH,KAAK,EAAC,6BAA6B;kBAAAoH,QAAA,EAAC;gBAErE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACL3I,OAAA;kBAAIsI,SAAS,EAAC,kBAAkB;kBAACnH,KAAK,EAAC,6BAA6B;kBAAAoH,QAAA,EAAC;gBAErE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACL3I,OAAA;kBAAIsI,SAAS,EAAC,kBAAkB;kBAACnH,KAAK,EAAC,6BAA6B;kBAAAoH,QAAA,EAAC;gBAErE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACL3I,OAAA;kBAAIsI,SAAS,EAAC,kBAAkB;kBAACnH,KAAK,EAAC,6BAA6B;kBAAAoH,QAAA,EAAC;gBAErE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACL3I,OAAA;kBAAAuI,QAAA,EAAI;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACvB3I,OAAA;kBAAAuI,QAAA,EAAI;gBAAW;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACR3I,OAAA;cAAAuI,QAAA,EACGhI,cAAc,CAACiJ,iBAAiB,CAAC/G,GAAG,CAACiD,MAAM,iBAC1C1F,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAAuI,QAAA,eACEvI,OAAA;oBAAKsI,SAAS,EAAC,gBAAgB;oBAAAC,QAAA,gBAC7BvI,OAAA;sBAAAuI,QAAA,EAAS7C,MAAM,CAACyB;oBAAa;sBAAAqB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAS,CAAC,eACvC3I,OAAA;sBAAAuI,QAAA,EAAQ7C,MAAM,CAAC0D;oBAAY;sBAAAZ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACjC;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,eACL3I,OAAA;kBAAAuI,QAAA,eACEvI,OAAA;oBAAKsI,SAAS,EAAC,gBAAgB;oBAAAC,QAAA,GAC5BjG,MAAM,CAACmH,OAAO,CAAC/D,MAAM,CAACgE,cAAc,CAAC,CAACjH,GAAG,CAAC,CAAC,CAACkH,GAAG,EAAE5B,KAAK,CAAC,kBACtD/H,OAAA;sBAAAuI,QAAA,GAAgBoB,GAAG,EAAC,IAAE,EAAC5B,KAAK;oBAAA,GAAlB4B,GAAG;sBAAAnB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAqB,CACnC,CAAC,eACF3I,OAAA;sBAAAuI,QAAA,GAAK,OAAK,EAAC7C,MAAM,CAACkE,mBAAmB;oBAAA;sBAAApB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzC;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,eACL3I,OAAA;kBAAAuI,QAAA,EAAKT,cAAc,CAACpC,MAAM,CAACmE,gBAAgB;gBAAC;kBAAArB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAClD3I,OAAA;kBACEsI,SAAS,EAAC,gBAAgB;kBAC1BgB,OAAO,EAAEA,CAAA,KAAM7D,gBAAgB,CAACC,MAAM,EAAE,YAAY,EAAE,0BAA0B,CAAE;kBAAA6C,QAAA,EAEjFN,YAAY,CAACvC,MAAM,CAACoE,gBAAgB,EAAE,MAAM;gBAAC;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5C,CAAC,eACL3I,OAAA;kBACEsI,SAAS,EAAC,gBAAgB;kBAC1BgB,OAAO,EAAEA,CAAA,KAAM7D,gBAAgB,CAACC,MAAM,EAAE,aAAa,EAAE,0BAA0B,CAAE;kBAAA6C,QAAA,EAElFT,cAAc,CAACpC,MAAM,CAACqE,iBAAiB;gBAAC;kBAAAvB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvC,CAAC,eACL3I,OAAA;kBACEsI,SAAS,EAAC,gBAAgB;kBAC1BgB,OAAO,EAAEA,CAAA,KAAM7D,gBAAgB,CAACC,MAAM,EAAE,eAAe,EAAE,4BAA4B,CAAE;kBAAA6C,QAAA,EAEtFT,cAAc,CAACpC,MAAM,CAACsE,mBAAmB;gBAAC;kBAAAxB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzC,CAAC,eACL3I,OAAA;kBACEsI,SAAS,EAAC,gBAAgB;kBAC1BgB,OAAO,EAAEA,CAAA,KAAM7D,gBAAgB,CAACC,MAAM,EAAE,aAAa,EAAE,0BAA0B,CAAE;kBAAA6C,QAAA,EAElFN,YAAY,CAACvC,MAAM,CAACuE,qBAAqB,EAAE,KAAK;gBAAC;kBAAAzB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChD,CAAC,eACL3I,OAAA;kBAAAuI,QAAA,EAAKN,YAAY,CAACvC,MAAM,CAACwE,kBAAkB,EAAE,QAAQ;gBAAC;kBAAA1B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAC5D3I,OAAA;kBAAAuI,QAAA,gBACEvI,OAAA;oBAAMsI,SAAS,EAAE,qBAAqBH,mBAAmB,CAACzC,MAAM,CAACyE,gBAAgB,CAAC,CAAC9B,KAAK,EAAG;oBAAAE,QAAA,EACxFJ,mBAAmB,CAACzC,MAAM,CAACyE,gBAAgB,CAAC,CAACjD;kBAAI;oBAAAsB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC9C,CAAC,eACP3I,OAAA;oBAAAuI,QAAA,EAAQ7C,MAAM,CAAC0E;kBAAiB;oBAAA5B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvC,CAAC;cAAA,GA9CEjD,MAAM,CAAC2E,WAAW;gBAAA7B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OA+CvB,CACL;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,EAGApI,cAAc,CAAC+J,eAAe,IAAI/J,cAAc,CAAC+J,eAAe,CAACvH,MAAM,GAAG,CAAC,iBAC1E/C,OAAA;QAAKsI,SAAS,EAAC,4BAA4B;QAAAC,QAAA,gBACzCvI,OAAA;UAAAuI,QAAA,EAAI;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnB3I,OAAA;UAAKsI,SAAS,EAAC,4BAA4B;UAAAC,QAAA,eACzCvI,OAAA;YAAOsI,SAAS,EAAC,kBAAkB;YAAAC,QAAA,gBACjCvI,OAAA;cAAAuI,QAAA,eACEvI,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAAuI,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACd3I,OAAA;kBAAAuI,QAAA,EAAI;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACvB3I,OAAA;kBAAAuI,QAAA,EAAI;gBAAiB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC1B3I,OAAA;kBAAIsI,SAAS,EAAC,kBAAkB;kBAAAC,QAAA,EAAC;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACpD3I,OAAA;kBAAIsI,SAAS,EAAC,kBAAkB;kBAAAC,QAAA,EAAC;gBAAW;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACjD3I,OAAA;kBAAAuI,QAAA,EAAI;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACvB3I,OAAA;kBAAAuI,QAAA,EAAI;gBAAW;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACR3I,OAAA;cAAAuI,QAAA,EACGhI,cAAc,CAAC+J,eAAe,CAAC7H,GAAG,CAACiD,MAAM,iBACxC1F,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAAuI,QAAA,eACEvI,OAAA;oBAAKsI,SAAS,EAAC,gBAAgB;oBAAAC,QAAA,gBAC7BvI,OAAA;sBAAAuI,QAAA,EAAS7C,MAAM,CAACyB;oBAAa;sBAAAqB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAS,CAAC,eACvC3I,OAAA;sBAAAuI,QAAA,EAAQ7C,MAAM,CAAC0D;oBAAY;sBAAAZ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACjC;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,eACL3I,OAAA;kBAAAuI,QAAA,eACEvI,OAAA;oBAAKsI,SAAS,EAAC,gBAAgB;oBAAAC,QAAA,EAC5BjG,MAAM,CAACmH,OAAO,CAAC/D,MAAM,CAACgE,cAAc,CAAC,CAACjH,GAAG,CAAC,CAAC,CAACkH,GAAG,EAAE5B,KAAK,CAAC,kBACtD/H,OAAA;sBAAAuI,QAAA,GAAgBoB,GAAG,EAAC,IAAE,EAAC5B,KAAK;oBAAA,GAAlB4B,GAAG;sBAAAnB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAqB,CACnC;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,eACL3I,OAAA;kBAAAuI,QAAA,EAAKT,cAAc,CAACpC,MAAM,CAACmE,gBAAgB;gBAAC;kBAAArB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAClD3I,OAAA;kBACEsI,SAAS,EAAC,gBAAgB;kBAC1BgB,OAAO,EAAEA,CAAA,KAAM7D,gBAAgB,CAACC,MAAM,EAAE,aAAa,EAAE,0BAA0B,CAAE;kBAAA6C,QAAA,EAElFT,cAAc,CAACpC,MAAM,CAACqE,iBAAiB;gBAAC;kBAAAvB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvC,CAAC,eACL3I,OAAA;kBACEsI,SAAS,EAAC,gBAAgB;kBAC1BgB,OAAO,EAAEA,CAAA,KAAM7D,gBAAgB,CAACC,MAAM,EAAE,WAAW,EAAE,0BAA0B,CAAE;kBAAA6C,QAAA,EAEhFN,YAAY,CAACvC,MAAM,CAACuE,qBAAqB,EAAE,KAAK;gBAAC;kBAAAzB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChD,CAAC,eACL3I,OAAA;kBAAAuI,QAAA,EAAKN,YAAY,CAACvC,MAAM,CAACwE,kBAAkB,EAAE,QAAQ;gBAAC;kBAAA1B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAC5D3I,OAAA;kBAAAuI,QAAA,eACEvI,OAAA;oBAAMsI,SAAS,EAAE,qBAAqBH,mBAAmB,CAACzC,MAAM,CAACyE,gBAAgB,CAAC,CAAC9B,KAAK,EAAG;oBAAAE,QAAA,EACxFJ,mBAAmB,CAACzC,MAAM,CAACyE,gBAAgB,CAAC,CAACjD;kBAAI;oBAAAsB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC9C;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC;cAAA,GAhCEjD,MAAM,CAAC2E,WAAW;gBAAA7B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAiCvB,CACL;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,EAGApI,cAAc,CAACgK,cAAc,IAAIhK,cAAc,CAACgK,cAAc,CAACxH,MAAM,GAAG,CAAC,iBACxE/C,OAAA;QAAKsI,SAAS,EAAC,4BAA4B;QAAAC,QAAA,gBACzCvI,OAAA;UAAAuI,QAAA,EAAI;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxB3I,OAAA;UAAKsI,SAAS,EAAC,4BAA4B;UAAAC,QAAA,eACzCvI,OAAA;YAAOsI,SAAS,EAAC,kBAAkB;YAAAC,QAAA,gBACjCvI,OAAA;cAAAuI,QAAA,eACEvI,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAAuI,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACd3I,OAAA;kBAAAuI,QAAA,EAAI;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACvB3I,OAAA;kBAAAuI,QAAA,EAAI;gBAAiB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC1B3I,OAAA;kBAAIsI,SAAS,EAAC,kBAAkB;kBAAAC,QAAA,EAAC;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACpD3I,OAAA;kBAAAuI,QAAA,EAAI;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACvB3I,OAAA;kBAAAuI,QAAA,EAAI;gBAAW;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACR3I,OAAA;cAAAuI,QAAA,EACGhI,cAAc,CAACgK,cAAc,CAAC9H,GAAG,CAACiD,MAAM,iBACvC1F,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAAuI,QAAA,eACEvI,OAAA;oBAAKsI,SAAS,EAAC,gBAAgB;oBAAAC,QAAA,gBAC7BvI,OAAA;sBAAAuI,QAAA,EAAS7C,MAAM,CAACyB;oBAAa;sBAAAqB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAS,CAAC,eACvC3I,OAAA;sBAAAuI,QAAA,EAAQ7C,MAAM,CAAC0D;oBAAY;sBAAAZ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACjC;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,eACL3I,OAAA;kBAAAuI,QAAA,eACEvI,OAAA;oBAAKsI,SAAS,EAAC,gBAAgB;oBAAAC,QAAA,EAC5BjG,MAAM,CAACmH,OAAO,CAAC/D,MAAM,CAACgE,cAAc,CAAC,CAACjH,GAAG,CAAC,CAAC,CAACkH,GAAG,EAAE5B,KAAK,CAAC,kBACtD/H,OAAA;sBAAAuI,QAAA,GAAgBoB,GAAG,EAAC,IAAE,EAAC5B,KAAK;oBAAA,GAAlB4B,GAAG;sBAAAnB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAqB,CACnC;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,eACL3I,OAAA;kBAAAuI,QAAA,EAAKT,cAAc,CAACpC,MAAM,CAACmE,gBAAgB;gBAAC;kBAAArB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAClD3I,OAAA;kBACEsI,SAAS,EAAC,gBAAgB;kBAC1BgB,OAAO,EAAEA,CAAA,KAAM7D,gBAAgB,CAACC,MAAM,EAAE,aAAa,EAAE,0BAA0B,CAAE;kBAAA6C,QAAA,EAElFT,cAAc,CAACpC,MAAM,CAACqE,iBAAiB;gBAAC;kBAAAvB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvC,CAAC,eACL3I,OAAA;kBAAAuI,QAAA,EAAKN,YAAY,CAACvC,MAAM,CAACwE,kBAAkB,EAAE,QAAQ;gBAAC;kBAAA1B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAC5D3I,OAAA;kBAAAuI,QAAA,eACEvI,OAAA;oBAAMsI,SAAS,EAAE,qBAAqBH,mBAAmB,CAACzC,MAAM,CAACyE,gBAAgB,CAAC,CAAC9B,KAAK,EAAG;oBAAAE,QAAA,EACxFJ,mBAAmB,CAACzC,MAAM,CAACyE,gBAAgB,CAAC,CAACjD;kBAAI;oBAAAsB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC9C;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC;cAAA,GA1BEjD,MAAM,CAAC2E,WAAW;gBAAA7B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OA2BvB,CACL;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN,EAGA5H,SAAS,CAACE,OAAO,iBAChBjB,OAAA;MAAKsI,SAAS,EAAC,qBAAqB;MAACgB,OAAO,EAAEA,CAAA,KAAMtI,YAAY,CAAC;QAAEC,OAAO,EAAE,KAAK;QAAEC,IAAI,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAG,CAAC,CAAE;MAAAoH,QAAA,eAC1GvI,OAAA;QAAKsI,SAAS,EAAC,aAAa;QAACgB,OAAO,EAAGL,CAAC,IAAKA,CAAC,CAACuB,eAAe,CAAC,CAAE;QAAAjC,QAAA,gBAC/DvI,OAAA;UAAKsI,SAAS,EAAC,oBAAoB;UAAAC,QAAA,gBACjCvI,OAAA;YAAAuI,QAAA,EAAKxH,SAAS,CAACI;UAAK;YAAAqH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC1B3I,OAAA;YACEsI,SAAS,EAAC,oBAAoB;YAC9BgB,OAAO,EAAEA,CAAA,KAAMtI,YAAY,CAAC;cAAEC,OAAO,EAAE,KAAK;cAAEC,IAAI,EAAE,IAAI;cAAEC,KAAK,EAAE;YAAG,CAAC,CAAE;YAAAoH,QAAA,EACxE;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACN3I,OAAA;UAAKsI,SAAS,EAAC,iBAAiB;UAAAC,QAAA,eAC9BvI,OAAA,CAACX,IAAI;YAAC6B,IAAI,EAAEH,SAAS,CAACG,IAAK;YAACqG,OAAO,EAAExG,SAAS,CAACwG;UAAQ;YAAAiB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAED3I,OAAA;MAAKsI,SAAS,EAAC,oBAAoB;MAAAC,QAAA,eACjCvI,OAAA;QAAQsI,SAAS,EAAC,mBAAmB;QAACgB,OAAO,EAAEjJ,MAAO;QAAAkI,QAAA,EAAC;MAEvD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;;AAED;AAAArI,EAAA,CAnfMJ,mBAAmB;AAAAuK,EAAA,GAAnBvK,mBAAmB;AAofzB,MAAM0I,oBAAoB,GAAIhH,IAAI,IAAK;EACrC,MAAM8I,KAAK,GAAG;IACZrH,KAAK,EAAE,cAAc;IACrBxB,QAAQ,EAAE,YAAY;IACtB2B,OAAO,EAAE;EACX,CAAC;EACD,OAAOkH,KAAK,CAAC9I,IAAI,CAAC,IAAIA,IAAI;AAC5B,CAAC;AAED,MAAMyH,aAAa,GAAGA,CAACR,KAAK,EAAEjH,IAAI,KAAK;EACrC,QAAQA,IAAI;IACV,KAAK,OAAO;MACV,OAAO,GAAGiH,KAAK,CAAC8B,kBAAkB,MAAM9B,KAAK,CAAC+B,UAAU,cAAc;IACxE,KAAK,UAAU;MACb,OAAO,QAAQ/B,KAAK,CAACgC,GAAG,EAAE;IAC5B,KAAK,SAAS;MACZ,OAAO,GAAGhC,KAAK,CAACiC,WAAW,cAAc;IAC3C;MACE,OAAO,EAAE;EACb;AACF,CAAC;AAED,eAAe5K,mBAAmB;AAAC,IAAAuK,EAAA;AAAAM,YAAA,CAAAN,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}