{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import EnergyDemandChart from\"../EnergyDemandChart\";import SolarPotentialSummary from\"./SolarPotentialSummary\";import SystemConfiguration from\"./SystemConfiguration\";import{prepareUserData}from\"./resultsUtils\";import\"../../styles/energy-demand.css\";import\"../../styles/results.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Results=_ref=>{var _data$addedRoofs;let{data,calculationResult,setCalculationResult,onBack}=_ref;const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('summary');// 'summary' or 'configuration'\n// Tab switching handler\nconst handleTabChange=tab=>{setActiveTab(tab);};useEffect(()=>{if(data){// We have data, so we can display the results\n// Energy Demand component will handle its own loading\nsetLoading(false);}},[data]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"results-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Loading results...\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please wait while we prepare your renewable energy system analysis.\"})]});}if(!data){return/*#__PURE__*/_jsxs(\"div\",{className:\"results-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"No Data Available\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please complete the previous steps to see your results.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"button-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onBack,children:\"Back to Tariffs\"})})]});}// Extract selected roofs data\nconst selectedRoofs=data.selectedRoofs||((_data$addedRoofs=data.addedRoofs)===null||_data$addedRoofs===void 0?void 0:_data$addedRoofs.filter(roof=>roof.selected))||[];// Prepare user data for Energy Demand component\nconst userData=prepareUserData(data);console.log('Results data:',data);// Debug log\nconsole.log('Selected roofs:',selectedRoofs);// Debug log\nconsole.log('User data for energy demand:',userData);// Debug log\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"results-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Renewable Energy System Results\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"results-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab==='summary'?'active':''),onClick:()=>handleTabChange('summary'),children:\"Property Summary\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab==='configuration'?'active':''),onClick:()=>handleTabChange('configuration'),children:\"System Configuration\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[activeTab==='summary'&&/*#__PURE__*/_jsxs(\"div\",{className:\"property-summary-tab\",children:[/*#__PURE__*/_jsx(SolarPotentialSummary,{selectedRoofs:selectedRoofs}),/*#__PURE__*/_jsx(\"div\",{className:\"results-section energy-demand-section\",children:/*#__PURE__*/_jsx(EnergyDemandChart,{userData:userData})})]}),activeTab==='configuration'&&/*#__PURE__*/_jsx(SystemConfiguration,{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"results-placeholder\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Additional results sections will be implemented here...\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"button-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onBack,children:\"Back to Tariffs\"})})]});};export default Results;","map":{"version":3,"names":["React","useEffect","useState","EnergyDemandChart","SolarPotentialSummary","SystemConfiguration","prepareUserData","jsx","_jsx","jsxs","_jsxs","Results","_ref","_data$addedRoofs","data","calculationResult","setCalculationResult","onBack","loading","setLoading","activeTab","setActiveTab","handleTabChange","tab","className","children","type","onClick","selectedRoofs","addedRoofs","filter","roof","selected","userData","console","log","concat"],"sources":["/Users/xuefei/Desktop/calculator00/calculator/renewableCalculator.ui/src/components/steps/Results.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport EnergyDemandChart from \"../EnergyDemandChart\";\nimport SolarPotentialSummary from \"./SolarPotentialSummary\";\nimport SystemConfiguration from \"./SystemConfiguration\";\nimport { prepareUserData } from \"./resultsUtils\";\nimport \"../../styles/energy-demand.css\";\nimport \"../../styles/results.css\";\n\nconst Results = ({ data, calculationResult, setCalculationResult, onBack }) => {\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('summary'); // 'summary' or 'configuration'\n\n  // Tab switching handler\n  const handleTabChange = (tab) => {\n    setActiveTab(tab);\n  };\n\n  useEffect(() => {\n    if (data) {\n      // We have data, so we can display the results\n      // Energy Demand component will handle its own loading\n      setLoading(false);\n    }\n  }, [data]);\n\n  if (loading) {\n    return (\n      <div className=\"results-container\">\n        <h2>Loading results...</h2>\n        <p>Please wait while we prepare your renewable energy system analysis.</p>\n      </div>\n    );\n  }\n\n  if (!data) {\n    return (\n      <div className=\"results-container\">\n        <h2>No Data Available</h2>\n        <p>Please complete the previous steps to see your results.</p>\n        <div className=\"button-group\">\n          <button type=\"button\" className=\"btn btn-secondary\" onClick={onBack}>\n            Back to Tariffs\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Extract selected roofs data\n  const selectedRoofs = data.selectedRoofs || data.addedRoofs?.filter(roof => roof.selected) || [];\n  \n  // Prepare user data for Energy Demand component\n  const userData = prepareUserData(data);\n\n  console.log('Results data:', data); // Debug log\n  console.log('Selected roofs:', selectedRoofs); // Debug log\n  console.log('User data for energy demand:', userData); // Debug log\n\n  return (\n    <div className=\"results-container\">\n      <h2>Renewable Energy System Results</h2>\n\n      {/* Tab Navigation */}\n      <div className=\"results-tabs\">\n        <button \n          className={`tab-button ${activeTab === 'summary' ? 'active' : ''}`}\n          onClick={() => handleTabChange('summary')}\n        >\n          Property Summary\n        </button>\n        <button \n          className={`tab-button ${activeTab === 'configuration' ? 'active' : ''}`}\n          onClick={() => handleTabChange('configuration')}\n        >\n          System Configuration\n        </button>\n      </div>\n\n      {/* Tab Content */}\n      <div className=\"tab-content\">\n        \n        {/* Property Summary Tab */}\n        {activeTab === 'summary' && (\n          <div className=\"property-summary-tab\">\n            {/* Solar Potential Summary */}\n            <SolarPotentialSummary selectedRoofs={selectedRoofs} />\n\n            {/* Energy Demand Section */}\n            <div className=\"results-section energy-demand-section\">\n              <EnergyDemandChart userData={userData} />\n            </div>\n          </div>\n        )}\n\n        {/* System Configuration Tab */}\n        {activeTab === 'configuration' && (\n          <SystemConfiguration />\n        )}\n\n      </div>\n\n      {/* Placeholder for other results sections */}\n      <div className=\"results-placeholder\">\n        <p>Additional results sections will be implemented here...</p>\n      </div>\n\n      <div className=\"button-group\">\n        <button type=\"button\" className=\"btn btn-secondary\" onClick={onBack}>\n          Back to Tariffs\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Results; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}