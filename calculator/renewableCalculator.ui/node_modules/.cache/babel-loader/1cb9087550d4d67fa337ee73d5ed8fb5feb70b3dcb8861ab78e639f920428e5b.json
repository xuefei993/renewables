{"ast":null,"code":"var _jsxFileName = \"/Users/xuefei/Desktop/calculator00 copy 3/calculator/renewableCalculator.ui/src/components/steps/address-input/PostcodeInput.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { postcodeService } from '../../../services/postcodeService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PostcodeInput = ({\n  onLocationSelect,\n  isLoading,\n  setIsLoading\n}) => {\n  _s();\n  const [postcode, setPostcode] = useState('');\n  const [error, setError] = useState('');\n  const handleInputChange = e => {\n    const value = e.target.value.toUpperCase();\n    setPostcode(value);\n    setError('');\n  };\n  const handleSearch = async () => {\n    if (!postcode.trim()) {\n      setError('Please enter a postcode');\n      return;\n    }\n    setIsLoading(true);\n    setError('');\n    try {\n      const result = await postcodeService.validatePostcode(postcode);\n      if (result.success) {\n        onLocationSelect({\n          type: 'postcode',\n          postcode: result.data.postcode,\n          latitude: result.data.latitude,\n          longitude: result.data.longitude,\n          location: `${result.data.admin_district}, ${result.data.region}`,\n          country: result.data.country\n        });\n      } else {\n        setError(result.error || 'Invalid postcode');\n      }\n    } catch (error) {\n      setError('Failed to validate postcode');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    }\n  };\n\n  // 添加演示数据功能，用于后端不可用时的测试\n  const handleDemoData = () => {\n    setIsLoading(true);\n    setError('');\n\n    // 模拟加载延迟\n    setTimeout(() => {\n      onLocationSelect({\n        type: 'postcode',\n        postcode: 'SW1A 1AA',\n        latitude: 51.5014,\n        longitude: -0.1419,\n        location: 'Westminster, London',\n        country: 'England',\n        city: 'Westminster',\n        region: 'London'\n      });\n      setIsLoading(false);\n    }, 1000);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"postcode-input-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Enter Your Postcode\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Enter your UK postcode to find your exact location\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: postcode,\n        onChange: handleInputChange,\n        onKeyPress: handleKeyPress,\n        placeholder: \"e.g., SW1A 1AA\",\n        className: `postcode-input ${error ? 'error' : ''}`,\n        disabled: isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSearch,\n        disabled: isLoading || !postcode.trim(),\n        className: \"btn btn-primary search-btn\",\n        children: isLoading ? 'Searching...' : 'Search'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Warning: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"demo-section\",\n      style: {\n        marginTop: '1rem',\n        padding: '1rem',\n        backgroundColor: '#f8f9fa',\n        borderRadius: '8px',\n        border: '1px dashed #dee2e6'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '0.5rem'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uD83D\\uDE80 For Demo/Testing (when backend is not available):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDemoData,\n        disabled: isLoading,\n        className: \"btn btn-secondary\",\n        style: {\n          marginRight: '0.5rem'\n        },\n        children: isLoading ? 'Loading...' : 'Use Demo Data (Westminster, London)'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '0.85rem',\n          color: '#6c757d',\n          marginTop: '0.5rem'\n        },\n        children: \"This will load sample location data and climate charts for demonstration purposes.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"postcode-examples\",\n      children: /*#__PURE__*/_jsxDEV(\"small\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Examples:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), \" KY16 8DE (St Andrews), SW1A 1AA (Westminster), M1 1AA (Manchester)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(PostcodeInput, \"Qc32PzkWNV5DIQw3DIPfS5+m1zA=\");\n_c = PostcodeInput;\nexport default PostcodeInput;\nvar _c;\n$RefreshReg$(_c, \"PostcodeInput\");","map":{"version":3,"names":["React","useState","postcodeService","jsxDEV","_jsxDEV","PostcodeInput","onLocationSelect","isLoading","setIsLoading","_s","postcode","setPostcode","error","setError","handleInputChange","e","value","target","toUpperCase","handleSearch","trim","result","validatePostcode","success","type","data","latitude","longitude","location","admin_district","region","country","handleKeyPress","key","handleDemoData","setTimeout","city","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","onKeyPress","placeholder","disabled","onClick","style","marginTop","padding","backgroundColor","borderRadius","border","marginBottom","marginRight","fontSize","color","_c","$RefreshReg$"],"sources":["/Users/xuefei/Desktop/calculator00 copy 3/calculator/renewableCalculator.ui/src/components/steps/address-input/PostcodeInput.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { postcodeService } from '../../../services/postcodeService';\n\nconst PostcodeInput = ({ onLocationSelect, isLoading, setIsLoading }) => {\n  const [postcode, setPostcode] = useState('');\n  const [error, setError] = useState('');\n\n  const handleInputChange = (e) => {\n    const value = e.target.value.toUpperCase();\n    setPostcode(value);\n    setError('');\n  };\n\n  const handleSearch = async () => {\n    if (!postcode.trim()) {\n      setError('Please enter a postcode');\n      return;\n    }\n\n    setIsLoading(true);\n    setError('');\n\n    try {\n      const result = await postcodeService.validatePostcode(postcode);\n      \n      if (result.success) {\n        onLocationSelect({\n          type: 'postcode',\n          postcode: result.data.postcode,\n          latitude: result.data.latitude,\n          longitude: result.data.longitude,\n          location: `${result.data.admin_district}, ${result.data.region}`,\n          country: result.data.country\n        });\n      } else {\n        setError(result.error || 'Invalid postcode');\n      }\n    } catch (error) {\n      setError('Failed to validate postcode');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    }\n  };\n\n  // 添加演示数据功能，用于后端不可用时的测试\n  const handleDemoData = () => {\n    setIsLoading(true);\n    setError('');\n    \n    // 模拟加载延迟\n    setTimeout(() => {\n      onLocationSelect({\n        type: 'postcode',\n        postcode: 'SW1A 1AA',\n        latitude: 51.5014,\n        longitude: -0.1419,\n        location: 'Westminster, London',\n        country: 'England',\n        city: 'Westminster',\n        region: 'London'\n      });\n      setIsLoading(false);\n    }, 1000);\n  };\n\n  return (\n    <div className=\"postcode-input-container\">\n      <h3>Enter Your Postcode</h3>\n      <p>Enter your UK postcode to find your exact location</p>\n      \n      <div className=\"input-group\">\n        <input\n          type=\"text\"\n          value={postcode}\n          onChange={handleInputChange}\n          onKeyPress={handleKeyPress}\n          placeholder=\"e.g., SW1A 1AA\"\n          className={`postcode-input ${error ? 'error' : ''}`}\n          disabled={isLoading}\n        />\n        <button\n          onClick={handleSearch}\n          disabled={isLoading || !postcode.trim()}\n          className=\"btn btn-primary search-btn\"\n        >\n          {isLoading ? 'Searching...' : 'Search'}\n        </button>\n      </div>\n      \n      {error && (\n        <div className=\"error-message\">\n          <span>Warning: {error}</span>\n        </div>\n      )}\n      \n      {/* 演示数据按钮 */}\n      <div className=\"demo-section\" style={{ marginTop: '1rem', padding: '1rem', backgroundColor: '#f8f9fa', borderRadius: '8px', border: '1px dashed #dee2e6' }}>\n        <div style={{ marginBottom: '0.5rem' }}>\n          <strong>🚀 For Demo/Testing (when backend is not available):</strong>\n        </div>\n        <button\n          onClick={handleDemoData}\n          disabled={isLoading}\n          className=\"btn btn-secondary\"\n          style={{ marginRight: '0.5rem' }}\n        >\n          {isLoading ? 'Loading...' : 'Use Demo Data (Westminster, London)'}\n        </button>\n        <div style={{ fontSize: '0.85rem', color: '#6c757d', marginTop: '0.5rem' }}>\n          This will load sample location data and climate charts for demonstration purposes.\n        </div>\n      </div>\n      \n      <div className=\"postcode-examples\">\n        <small>\n          <strong>Examples:</strong> KY16 8DE (St Andrews), SW1A 1AA (Westminster), M1 1AA (Manchester)\n        </small>\n      </div>\n    </div>\n  );\n};\n\nexport default PostcodeInput; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}