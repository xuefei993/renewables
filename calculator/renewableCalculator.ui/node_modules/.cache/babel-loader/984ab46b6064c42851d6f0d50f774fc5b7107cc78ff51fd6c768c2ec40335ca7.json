{"ast":null,"code":"import _objectSpread from\"/Users/xuefei/renewables/calculator/renewableCalculator.ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Line}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend}from'chart.js';import{getAllSolarPanelTypes,getHeatPumps,getBatteries,getEquipmentComparison}from'../../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend);const ConfigurationComparison=_ref=>{let{selectedEquipment,userData,onBack,appliedSubsidies,totalSubsidyAmount}=_ref;const[availableEquipment,setAvailableEquipment]=useState({});const[configurations,setConfigurations]=useState([]);const[loading,setLoading]=useState(true);const[showChart,setShowChart]=useState({visible:false,data:null,title:''});// Helper function to calculate net installation cost after subsidies\nconst calculateNetInstallationCost=grossCost=>{const subsidyAmount=totalSubsidyAmount||0;return Math.max(0,grossCost-subsidyAmount);};// Helper function to format installation cost display with subsidy information\nconst formatInstallationCostWithSubsidy=grossCost=>{const subsidyAmount=totalSubsidyAmount||0;const netCost=calculateNetInstallationCost(grossCost);if(subsidyAmount>0){return/*#__PURE__*/_jsxs(\"div\",{className:\"cost-breakdown\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gross-cost\",children:formatCurrency(grossCost)}),/*#__PURE__*/_jsxs(\"div\",{className:\"subsidy-deduction\",children:[\"- \",formatCurrency(subsidyAmount),\" (subsidy)\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"net-cost\",children:/*#__PURE__*/_jsx(\"strong\",{children:formatCurrency(netCost)})})]});}return formatCurrency(grossCost);};useEffect(()=>{loadAvailableEquipment();},[selectedEquipment]);const loadAvailableEquipment=async()=>{try{const promises=[];if(selectedEquipment.solarPanels){promises.push(getAllSolarPanelTypes().then(res=>({type:'solar',data:res.data})));}if(selectedEquipment.heatPump){promises.push(getHeatPumps().then(res=>({type:'heatPump',data:res.data})));}if(selectedEquipment.batteryStorage){promises.push(getBatteries().then(res=>({type:'battery',data:res.data})));}const results=await Promise.all(promises);const available={};results.forEach(result=>{available[result.type]=result.data;});setAvailableEquipment(available);// Generate 3 recommended configurations\nconst recommendedConfigurations=await generateRecommendedConfigurations(available);setConfigurations(recommendedConfigurations);}catch(error){console.error('Error loading available equipment:',error);}finally{setLoading(false);}};const generateRecommendedConfigurations=async available=>{const configs=[];// Configuration 1: Most Cost-Effective (cheapest installation cost)\nconfigs.push({id:1,name:\"Most Cost-Effective\",selections:getCostEffectiveSelections(available),calculations:{installationCost:0,annualGeneration:0,annualSavings:0,annualExportRevenue:0,annualCO2Savings:0,paybackPeriod:0,monthlyData:{generation:new Array(12).fill(0),savings:new Array(12).fill(0),exportRevenue:new Array(12).fill(0),co2Savings:new Array(12).fill(0)}},loading:false});// Configuration 2: Most Eco-Friendly (maximum CO2 savings)\nconfigs.push({id:2,name:\"Most Eco-Friendly\",selections:getEcoFriendlySelections(available),calculations:{installationCost:0,annualGeneration:0,annualSavings:0,annualExportRevenue:0,annualCO2Savings:0,paybackPeriod:0,monthlyData:{generation:new Array(12).fill(0),savings:new Array(12).fill(0),exportRevenue:new Array(12).fill(0),co2Savings:new Array(12).fill(0)}},loading:false});// Configuration 3: Balanced Option (best overall value)\nconfigs.push({id:3,name:\"Balanced Option\",selections:getBalancedSelections(available),calculations:{installationCost:0,annualGeneration:0,annualSavings:0,annualExportRevenue:0,annualCO2Savings:0,paybackPeriod:0,monthlyData:{generation:new Array(12).fill(0),savings:new Array(12).fill(0),exportRevenue:new Array(12).fill(0),co2Savings:new Array(12).fill(0)}},loading:false});// Calculate performance for each configuration\nfor(let config of configs){if(hasValidSelections(config.selections)){await calculateConfigurationPerformance(config);}}return configs;};const getCostEffectiveSelections=available=>{const selections={solar:selectedEquipment.solarPanels?null:null,heatPump:selectedEquipment.heatPump?null:null,battery:selectedEquipment.batteryStorage?null:null};// Select cheapest options (assuming lower price or basic models)\nif(selectedEquipment.solarPanels&&available.solar&&available.solar.length>0){// Find the most cost-effective solar panel (lowest price if available, otherwise first option)\nconst cheapestSolar=available.solar.reduce((min,panel)=>panel.price&&min.price&&panel.price<min.price?panel:min);selections.solar=cheapestSolar.id;}if(selectedEquipment.heatPump&&available.heatPump&&available.heatPump.length>0){// Select most cost-effective heat pump (lowest cost)\nconst cheapestHeatPump=available.heatPump.reduce((min,pump)=>pump.cost&&min.cost&&pump.cost<min.cost?pump:min);selections.heatPump=cheapestHeatPump.id;}if(selectedEquipment.batteryStorage&&available.battery&&available.battery.length>0){// Select most cost-effective battery (lowest cost)\nconst cheapestBattery=available.battery.reduce((min,battery)=>battery.cost&&min.cost&&battery.cost<min.cost?battery:min);selections.battery=cheapestBattery.id;}return selections;};const getEcoFriendlySelections=available=>{const selections={solar:selectedEquipment.solarPanels?null:null,heatPump:selectedEquipment.heatPump?null:null,battery:selectedEquipment.batteryStorage?null:null};// Select highest efficiency/performance options\nif(selectedEquipment.solarPanels&&available.solar&&available.solar.length>0){// Find highest efficiency or power solar panel\nconst bestSolar=available.solar.reduce((best,panel)=>panel.efficiency&&best.efficiency&&panel.efficiency>best.efficiency?panel:panel.ratedPowerPerPanel&&best.ratedPowerPerPanel&&panel.ratedPowerPerPanel>best.ratedPowerPerPanel?panel:best);selections.solar=bestSolar.id;}if(selectedEquipment.heatPump&&available.heatPump&&available.heatPump.length>0){// Select highest COP heat pump\nconst bestHeatPump=available.heatPump.reduce((best,pump)=>pump.cop&&best.cop&&pump.cop>best.cop?pump:best);selections.heatPump=bestHeatPump.id;}if(selectedEquipment.batteryStorage&&available.battery&&available.battery.length>0){// Select largest capacity battery\nconst bestBattery=available.battery.reduce((best,battery)=>battery.capacityKwh&&best.capacityKwh&&battery.capacityKwh>best.capacityKwh?battery:best);selections.battery=bestBattery.id;}return selections;};const getBalancedSelections=available=>{const selections={solar:selectedEquipment.solarPanels?null:null,heatPump:selectedEquipment.heatPump?null:null,battery:selectedEquipment.batteryStorage?null:null};// Select middle-range options (good balance of cost and performance)\nif(selectedEquipment.solarPanels&&available.solar&&available.solar.length>0){const sortedSolar=[...available.solar].sort((a,b)=>(a.price||0)-(b.price||0));const middleIndex=Math.floor(sortedSolar.length/2);selections.solar=sortedSolar[middleIndex].id;}if(selectedEquipment.heatPump&&available.heatPump&&available.heatPump.length>0){const sortedHeatPumps=[...available.heatPump].sort((a,b)=>(a.cost||0)-(b.cost||0));const middleIndex=Math.floor(sortedHeatPumps.length/2);selections.heatPump=sortedHeatPumps[middleIndex].id;}if(selectedEquipment.batteryStorage&&available.battery&&available.battery.length>0){const sortedBatteries=[...available.battery].sort((a,b)=>(a.cost||0)-(b.cost||0));const middleIndex=Math.floor(sortedBatteries.length/2);selections.battery=sortedBatteries[middleIndex].id;}return selections;};const hasValidSelections=selections=>{return Object.values(selections).some(selection=>selection!==null&&selection!=='');};const calculateConfigurationPerformance=async config=>{try{const calculationRequest={hasSolarPanels:Boolean(selectedEquipment.solarPanels),hasHeatPump:Boolean(selectedEquipment.heatPump),hasBattery:Boolean(selectedEquipment.batteryStorage),solarPanelTypeIds:config.selections.solar?[Number(config.selections.solar)]:[],heatPumpTypeIds:config.selections.heatPump?[Number(config.selections.heatPump)]:[],batteryIds:config.selections.battery?[Number(config.selections.battery)]:[],houseArea:Number(userData.houseArea)||120,occupants:Number(userData.occupants)||3,roofArea:Number(userData.roofArea)||60,// Increased from 30 to 60 sq meters\nlatitude:Number(userData.latitude)||51.5,longitude:Number(userData.longitude)||-0.1,annualElectricityUsageKwh:Number(userData.annualElectricityUsage)||3500,annualGasUsageKwh:Number(userData.annualGasUsage)||18000,monthlyElectricityUsageKwh:Number(userData.monthlyElectricityUsage)||290,homeOccupancyFactor:Number(userData.homeOccupancyFactor)||0.6,electricityRate:Number(userData.electricityRate)||25,// Pence per kWh\ngasRate:Number(userData.gasRate)||8,// Pence per kWh\nexportRate:Number(userData.exportRate)||15,// Pence per kWh\npeakElectricityRate:Number(userData.peakElectricityRate)||35,offPeakElectricityRate:Number(userData.offPeakElectricityRate)||12,solarInstallationComplexity:Number(userData.solarInstallationComplexity)||1.2,heatPumpInstallationComplexity:Number(userData.heatPumpInstallationComplexity)||1.5,batteryInstallationComplexity:Number(userData.batteryInstallationComplexity)||1.1};console.log('Sending calculation request:',calculationRequest);// Debug log\nconst response=await getEquipmentComparison(calculationRequest);const result=response.data;console.log('Received calculation result:',result);// Debug log\nconfig.calculations=processCalculationResult(result);}catch(error){console.error('Error calculating configuration performance:',error);}};const createEmptyConfiguration=configNumber=>({id:configNumber,name:\"Configuration \".concat(configNumber),selections:{solar:selectedEquipment.solarPanels?'':null,heatPump:selectedEquipment.heatPump?'':null,battery:selectedEquipment.batteryStorage?'':null},calculations:{installationCost:0,annualGeneration:0,annualSavings:0,annualExportRevenue:0,annualCO2Savings:0,paybackPeriod:0,monthlyData:{generation:new Array(12).fill(0),savings:new Array(12).fill(0),exportRevenue:new Array(12).fill(0),co2Savings:new Array(12).fill(0)}},loading:false});const handleEquipmentChange=async(configId,equipmentType,equipmentId)=>{// Update the selection\nsetConfigurations(prev=>prev.map(config=>{if(config.id===configId){return _objectSpread(_objectSpread({},config),{},{selections:_objectSpread(_objectSpread({},config.selections),{},{[equipmentType]:equipmentId}),loading:true});}return config;}));// Recalculate for this configuration\nawait recalculateConfiguration(configId,equipmentType,equipmentId);};const recalculateConfiguration=async(configId,changedEquipmentType,changedEquipmentId)=>{try{const config=configurations.find(c=>c.id===configId);if(!config)return;// Update the changed selection\nconst updatedSelections=_objectSpread(_objectSpread({},config.selections),{},{[changedEquipmentType]:changedEquipmentId});// Build request for calculation\nconst calculationRequest={hasSolarPanels:Boolean(selectedEquipment.solarPanels),hasHeatPump:Boolean(selectedEquipment.heatPump),hasBattery:Boolean(selectedEquipment.batteryStorage),solarPanelTypeIds:updatedSelections.solar?[Number(updatedSelections.solar)]:[],heatPumpTypeIds:updatedSelections.heatPump?[Number(updatedSelections.heatPump)]:[],batteryIds:updatedSelections.battery?[Number(updatedSelections.battery)]:[],houseArea:Number(userData.houseArea)||120,occupants:Number(userData.occupants)||3,roofArea:Number(userData.roofArea)||60,// Increased from 30 to 60 sq meters\nlatitude:Number(userData.latitude)||51.5,longitude:Number(userData.longitude)||-0.1,annualElectricityUsageKwh:Number(userData.annualElectricityUsage)||3500,annualGasUsageKwh:Number(userData.annualGasUsage)||18000,monthlyElectricityUsageKwh:Number(userData.monthlyElectricityUsage)||290,homeOccupancyFactor:Number(userData.homeOccupancyFactor)||0.6,electricityRate:Number(userData.electricityRate)||25,// Pence per kWh\ngasRate:Number(userData.gasRate)||8,// Pence per kWh\nexportRate:Number(userData.exportRate)||15,// Pence per kWh\npeakElectricityRate:Number(userData.peakElectricityRate)||35,offPeakElectricityRate:Number(userData.offPeakElectricityRate)||12,solarInstallationComplexity:Number(userData.solarInstallationComplexity)||1.2,heatPumpInstallationComplexity:Number(userData.heatPumpInstallationComplexity)||1.5,batteryInstallationComplexity:Number(userData.batteryInstallationComplexity)||1.1};const response=await getEquipmentComparison(calculationRequest);const result=response.data;const calculations=processCalculationResult(result);setConfigurations(prev=>prev.map(config=>{if(config.id===configId){return _objectSpread(_objectSpread({},config),{},{selections:updatedSelections,calculations,loading:false});}return config;}));}catch(error){console.error('Error recalculating configuration:',error);setConfigurations(prev=>prev.map(config=>{if(config.id===configId){return _objectSpread(_objectSpread({},config),{},{loading:false});}return config;}));}};const processCalculationResult=result=>{let totalCost=0;let totalGeneration=0;let totalSavings=0;let totalExportRevenue=0;let totalCO2Savings=0;const monthlyGeneration=new Array(12).fill(0);const monthlySavings=new Array(12).fill(0);const monthlyExportRevenue=new Array(12).fill(0);const monthlyCO2Savings=new Array(12).fill(0);// Aggregate data from all equipment types\n[...(result.solarPanelOptions||[]),...(result.heatPumpOptions||[]),...(result.batteryOptions||[])].forEach(option=>{totalCost+=option.installationCost||0;totalGeneration+=option.annualGeneration||0;totalSavings+=option.annualCostSavings||0;totalExportRevenue+=option.annualExportRevenue||0;totalCO2Savings+=option.annualTotalCO2Savings||0;// Aggregate monthly data\nif(option.monthlyGeneration){option.monthlyGeneration.forEach((value,index)=>{monthlyGeneration[index]+=value||0;});}if(option.monthlyCostSavings){option.monthlyCostSavings.forEach((value,index)=>{monthlySavings[index]+=value||0;});}if(option.monthlyExportRevenue){option.monthlyExportRevenue.forEach((value,index)=>{monthlyExportRevenue[index]+=value||0;});}if(option.monthlyDirectCO2Savings&&option.monthlyIndirectCO2Savings){option.monthlyDirectCO2Savings.forEach((direct,index)=>{const indirect=option.monthlyIndirectCO2Savings[index]||0;monthlyCO2Savings[index]+=(direct||0)+indirect;});}});const paybackPeriod=totalSavings+totalExportRevenue>0?totalCost/(totalSavings+totalExportRevenue):999;return{installationCost:totalCost,annualGeneration:totalGeneration,annualSavings:totalSavings,annualExportRevenue:totalExportRevenue,annualCO2Savings:totalCO2Savings,paybackPeriod:paybackPeriod,monthlyData:{generation:monthlyGeneration,savings:monthlySavings,exportRevenue:monthlyExportRevenue,co2Savings:monthlyCO2Savings}};};const addConfiguration=()=>{const newId=Math.max(...configurations.map(c=>c.id))+1;setConfigurations(prev=>[...prev,createEmptyConfiguration(newId)]);};const removeConfiguration=configId=>{if(configurations.length>1){setConfigurations(prev=>prev.filter(c=>c.id!==configId));}};const showMonthlyChart=(config,dataType,title)=>{const months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];let monthlyData=[];switch(dataType){case'generation':monthlyData=config.calculations.monthlyData.generation;break;case'savings':monthlyData=config.calculations.monthlyData.savings;break;case'exportRevenue':monthlyData=config.calculations.monthlyData.exportRevenue;break;case'co2Savings':monthlyData=config.calculations.monthlyData.co2Savings;break;default:monthlyData=[];}const chartData={labels:months,datasets:[{label:title,data:monthlyData,borderColor:getChartColor(dataType),backgroundColor:getChartColor(dataType)+'20',tension:0.4,fill:true}]};const chartOptions={responsive:true,plugins:{legend:{position:'top'},title:{display:true,text:\"\".concat(config.name,\" - \").concat(title)}},scales:{y:{beginAtZero:true}}};setShowChart({visible:true,data:chartData,options:chartOptions,title:\"\".concat(config.name,\" - \").concat(title)});};const getChartColor=dataType=>{const colors={generation:'#3498db',savings:'#27ae60',exportRevenue:'#f39c12',co2Savings:'#e74c3c'};return colors[dataType]||'#34495e';};const formatCurrency=value=>{return value?\"\\xA3\".concat(Math.round(value).toLocaleString()):'£0';};const formatNumber=function(value){let unit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';return value?\"\".concat(Math.round(value).toLocaleString()).concat(unit):\"0\".concat(unit);};const getEquipmentName=(equipmentType,equipmentId)=>{if(!equipmentId||!availableEquipment[equipmentType])return'';const equipment=availableEquipment[equipmentType].find(e=>e.id==equipmentId);return equipment?equipment.name:'';};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"configuration-comparison-loading\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Loading Equipment Options...\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Generating recommended configurations for you.\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"configuration-comparison\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"configuration-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"configuration-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Configuration Name\"}),selectedEquipment.solarPanels&&/*#__PURE__*/_jsx(\"th\",{children:\"Solar Panels\"}),selectedEquipment.heatPump&&/*#__PURE__*/_jsx(\"th\",{children:\"Heat Pump\"}),selectedEquipment.batteryStorage&&/*#__PURE__*/_jsx(\"th\",{children:\"Battery Storage\"}),/*#__PURE__*/_jsxs(\"th\",{children:[totalSubsidyAmount>0?'Net Installation Cost':'Installation Cost',totalSubsidyAmount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"cost-header-note\",children:[\"(after \\xA3\",totalSubsidyAmount.toFixed(0),\" subsidy)\"]})]}),/*#__PURE__*/_jsx(\"th\",{className:\"clickable-header\",onClick:()=>showMonthlyChart('generation','Monthly Generation (kWh)','monthlyGeneration'),title:\"Click to view monthly breakdown\",children:\"Annual Generation\"}),/*#__PURE__*/_jsx(\"th\",{className:\"clickable-header\",onClick:()=>showMonthlyChart('savings','Monthly Savings (£)','monthlySavings'),title:\"Click to view monthly breakdown\",children:\"Annual Savings\"}),/*#__PURE__*/_jsx(\"th\",{className:\"clickable-header\",onClick:()=>showMonthlyChart('exportRevenue','Monthly Export Revenue (£)','monthlyExportRevenue'),title:\"Click to view monthly breakdown\",children:\"Annual Export Revenue\"}),/*#__PURE__*/_jsx(\"th\",{className:\"clickable-header\",onClick:()=>showMonthlyChart('co2Savings','Monthly CO₂ Savings (kg)','monthlyCo2Savings'),title:\"Click to view monthly breakdown\",children:\"Annual CO\\u2082 Savings\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Payback Period\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:configurations.map(config=>{var _availableEquipment$s,_availableEquipment$h,_availableEquipment$b;return/*#__PURE__*/_jsxs(\"tr\",{className:config.loading?'loading-row':'',children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:config.name,onChange:e=>{setConfigurations(prev=>prev.map(c=>c.id===config.id?_objectSpread(_objectSpread({},c),{},{name:e.target.value}):c));},className:\"config-name-input\"})}),selectedEquipment.solarPanels&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{value:config.selections.solar||'',onChange:e=>handleEquipmentChange(config.id,'solar',e.target.value),className:\"equipment-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Please select...\"}),(_availableEquipment$s=availableEquipment.solar)===null||_availableEquipment$s===void 0?void 0:_availableEquipment$s.map(panel=>/*#__PURE__*/_jsxs(\"option\",{value:panel.id,children:[panel.name,\" (\",panel.ratedPowerPerPanel,\"W)\"]},panel.id))]})}),selectedEquipment.heatPump&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{value:config.selections.heatPump||'',onChange:e=>handleEquipmentChange(config.id,'heatPump',e.target.value),className:\"equipment-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Please select...\"}),(_availableEquipment$h=availableEquipment.heatPump)===null||_availableEquipment$h===void 0?void 0:_availableEquipment$h.map(heatPump=>/*#__PURE__*/_jsxs(\"option\",{value:heatPump.id,children:[heatPump.name,\" (COP: \",heatPump.cop,\")\"]},heatPump.id))]})}),selectedEquipment.batteryStorage&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{value:config.selections.battery||'',onChange:e=>handleEquipmentChange(config.id,'battery',e.target.value),className:\"equipment-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Please select...\"}),(_availableEquipment$b=availableEquipment.battery)===null||_availableEquipment$b===void 0?void 0:_availableEquipment$b.map(battery=>/*#__PURE__*/_jsxs(\"option\",{value:battery.id,children:[battery.name,\" (\",battery.capacityKwh,\"kWh)\"]},battery.id))]})}),/*#__PURE__*/_jsx(\"td\",{children:config.loading?'Calculating...':formatInstallationCostWithSubsidy(config.calculations.installationCost)}),/*#__PURE__*/_jsx(\"td\",{className:\"clickable-cell\",onClick:()=>!config.loading&&showMonthlyChart(config,'generation','Monthly Generation (kWh)'),children:config.loading?'Calculating...':formatNumber(config.calculations.annualGeneration,' kWh')}),/*#__PURE__*/_jsx(\"td\",{className:\"clickable-cell\",onClick:()=>!config.loading&&showMonthlyChart(config,'savings','Monthly Savings (£)'),children:config.loading?'Calculating...':formatCurrency(config.calculations.annualSavings)}),/*#__PURE__*/_jsx(\"td\",{className:\"clickable-cell\",onClick:()=>!config.loading&&showMonthlyChart(config,'exportRevenue','Monthly Export Revenue (£)'),children:config.loading?'Calculating...':formatCurrency(config.calculations.annualExportRevenue)}),/*#__PURE__*/_jsx(\"td\",{className:\"clickable-cell\",onClick:()=>!config.loading&&showMonthlyChart(config,'co2Savings','Monthly CO₂ Savings (kg)'),children:config.loading?'Calculating...':formatNumber(config.calculations.annualCO2Savings,' kg')}),/*#__PURE__*/_jsx(\"td\",{children:config.loading?'Calculating...':formatNumber(config.calculations.paybackPeriod,' years')}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-remove\",onClick:()=>removeConfiguration(config.id),disabled:configurations.length<=1,title:\"Remove configuration\",children:\"\\xD7\"})})]},config.id);})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:addConfiguration,children:\"+ Add Custom Configuration\"}),/*#__PURE__*/_jsx(\"span\",{className:\"table-hint\",children:\"The first 3 are our recommendations. Modify them or add your own configurations.\"})]}),showChart.visible&&/*#__PURE__*/_jsx(\"div\",{className:\"chart-modal-overlay\",onClick:()=>setShowChart({visible:false,data:null,title:''}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"chart-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-modal-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:showChart.title}),/*#__PURE__*/_jsx(\"button\",{className:\"chart-close-button\",onClick:()=>setShowChart({visible:false,data:null,title:''}),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Line,{data:showChart.data,options:showChart.options})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"comparison-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:onBack,children:\"Back to Equipment Selection\"})})]});};export default ConfigurationComparison;","map":{"version":3,"names":["React","useState","useEffect","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","getAllSolarPanelTypes","getHeatPumps","getBatteries","getEquipmentComparison","jsx","_jsx","jsxs","_jsxs","register","ConfigurationComparison","_ref","selectedEquipment","userData","onBack","appliedSubsidies","totalSubsidyAmount","availableEquipment","setAvailableEquipment","configurations","setConfigurations","loading","setLoading","showChart","setShowChart","visible","data","title","calculateNetInstallationCost","grossCost","subsidyAmount","Math","max","formatInstallationCostWithSubsidy","netCost","className","children","formatCurrency","loadAvailableEquipment","promises","solarPanels","push","then","res","type","heatPump","batteryStorage","results","Promise","all","available","forEach","result","recommendedConfigurations","generateRecommendedConfigurations","error","console","configs","id","name","selections","getCostEffectiveSelections","calculations","installationCost","annualGeneration","annualSavings","annualExportRevenue","annualCO2Savings","paybackPeriod","monthlyData","generation","Array","fill","savings","exportRevenue","co2Savings","getEcoFriendlySelections","getBalancedSelections","config","hasValidSelections","calculateConfigurationPerformance","solar","battery","length","cheapestSolar","reduce","min","panel","price","cheapestHeatPump","pump","cost","cheapestBattery","bestSolar","best","efficiency","ratedPowerPerPanel","bestHeatPump","cop","bestBattery","capacityKwh","sortedSolar","sort","a","b","middleIndex","floor","sortedHeatPumps","sortedBatteries","Object","values","some","selection","calculationRequest","hasSolarPanels","Boolean","hasHeatPump","hasBattery","solarPanelTypeIds","Number","heatPumpTypeIds","batteryIds","houseArea","occupants","roofArea","latitude","longitude","annualElectricityUsageKwh","annualElectricityUsage","annualGasUsageKwh","annualGasUsage","monthlyElectricityUsageKwh","monthlyElectricityUsage","homeOccupancyFactor","electricityRate","gasRate","exportRate","peakElectricityRate","offPeakElectricityRate","solarInstallationComplexity","heatPumpInstallationComplexity","batteryInstallationComplexity","log","response","processCalculationResult","createEmptyConfiguration","configNumber","concat","handleEquipmentChange","configId","equipmentType","equipmentId","prev","map","_objectSpread","recalculateConfiguration","changedEquipmentType","changedEquipmentId","find","c","updatedSelections","totalCost","totalGeneration","totalSavings","totalExportRevenue","totalCO2Savings","monthlyGeneration","monthlySavings","monthlyExportRevenue","monthlyCO2Savings","solarPanelOptions","heatPumpOptions","batteryOptions","option","annualCostSavings","annualTotalCO2Savings","value","index","monthlyCostSavings","monthlyDirectCO2Savings","monthlyIndirectCO2Savings","direct","indirect","addConfiguration","newId","removeConfiguration","filter","showMonthlyChart","dataType","months","chartData","labels","datasets","label","borderColor","getChartColor","backgroundColor","tension","chartOptions","responsive","plugins","legend","position","display","text","scales","y","beginAtZero","options","colors","round","toLocaleString","formatNumber","unit","arguments","undefined","getEquipmentName","equipment","e","toFixed","onClick","_availableEquipment$s","_availableEquipment$h","_availableEquipment$b","onChange","target","disabled","stopPropagation"],"sources":["/Users/xuefei/renewables/calculator/renewableCalculator.ui/src/components/steps/ConfigurationComparison.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\nimport { getAllSolarPanelTypes, getHeatPumps, getBatteries, getEquipmentComparison } from '../../api';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nconst ConfigurationComparison = ({ selectedEquipment, userData, onBack, appliedSubsidies, totalSubsidyAmount }) => {\n  const [availableEquipment, setAvailableEquipment] = useState({});\n  const [configurations, setConfigurations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showChart, setShowChart] = useState({ visible: false, data: null, title: '' });\n\n  // Helper function to calculate net installation cost after subsidies\n  const calculateNetInstallationCost = (grossCost) => {\n    const subsidyAmount = totalSubsidyAmount || 0;\n    return Math.max(0, grossCost - subsidyAmount);\n  };\n\n  // Helper function to format installation cost display with subsidy information\n  const formatInstallationCostWithSubsidy = (grossCost) => {\n    const subsidyAmount = totalSubsidyAmount || 0;\n    const netCost = calculateNetInstallationCost(grossCost);\n    \n    if (subsidyAmount > 0) {\n      return (\n        <div className=\"cost-breakdown\">\n          <div className=\"gross-cost\">{formatCurrency(grossCost)}</div>\n          <div className=\"subsidy-deduction\">- {formatCurrency(subsidyAmount)} (subsidy)</div>\n          <div className=\"net-cost\"><strong>{formatCurrency(netCost)}</strong></div>\n        </div>\n      );\n    }\n    \n    return formatCurrency(grossCost);\n  };\n\n  useEffect(() => {\n    loadAvailableEquipment();\n  }, [selectedEquipment]);\n\n  const loadAvailableEquipment = async () => {\n    try {\n      const promises = [];\n      \n      if (selectedEquipment.solarPanels) {\n        promises.push(\n          getAllSolarPanelTypes().then(res => ({ type: 'solar', data: res.data }))\n        );\n      }\n      \n      if (selectedEquipment.heatPump) {\n        promises.push(\n          getHeatPumps().then(res => ({ type: 'heatPump', data: res.data }))\n        );\n      }\n      \n      if (selectedEquipment.batteryStorage) {\n        promises.push(\n          getBatteries().then(res => ({ type: 'battery', data: res.data }))\n        );\n      }\n\n      const results = await Promise.all(promises);\n      \n      const available = {};\n      results.forEach(result => {\n        available[result.type] = result.data;\n      });\n      \n      setAvailableEquipment(available);\n      \n      // Generate 3 recommended configurations\n      const recommendedConfigurations = await generateRecommendedConfigurations(available);\n      setConfigurations(recommendedConfigurations);\n      \n    } catch (error) {\n      console.error('Error loading available equipment:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const generateRecommendedConfigurations = async (available) => {\n    const configs = [];\n    \n    // Configuration 1: Most Cost-Effective (cheapest installation cost)\n    configs.push({\n      id: 1,\n      name: \"Most Cost-Effective\",\n      selections: getCostEffectiveSelections(available),\n      calculations: {\n        installationCost: 0,\n        annualGeneration: 0,\n        annualSavings: 0,\n        annualExportRevenue: 0,\n        annualCO2Savings: 0,\n        paybackPeriod: 0,\n        monthlyData: {\n          generation: new Array(12).fill(0),\n          savings: new Array(12).fill(0),\n          exportRevenue: new Array(12).fill(0),\n          co2Savings: new Array(12).fill(0)\n        }\n      },\n      loading: false\n    });\n\n    // Configuration 2: Most Eco-Friendly (maximum CO2 savings)\n    configs.push({\n      id: 2,\n      name: \"Most Eco-Friendly\",\n      selections: getEcoFriendlySelections(available),\n      calculations: {\n        installationCost: 0,\n        annualGeneration: 0,\n        annualSavings: 0,\n        annualExportRevenue: 0,\n        annualCO2Savings: 0,\n        paybackPeriod: 0,\n        monthlyData: {\n          generation: new Array(12).fill(0),\n          savings: new Array(12).fill(0),\n          exportRevenue: new Array(12).fill(0),\n          co2Savings: new Array(12).fill(0)\n        }\n      },\n      loading: false\n    });\n\n    // Configuration 3: Balanced Option (best overall value)\n    configs.push({\n      id: 3,\n      name: \"Balanced Option\",\n      selections: getBalancedSelections(available),\n      calculations: {\n        installationCost: 0,\n        annualGeneration: 0,\n        annualSavings: 0,\n        annualExportRevenue: 0,\n        annualCO2Savings: 0,\n        paybackPeriod: 0,\n        monthlyData: {\n          generation: new Array(12).fill(0),\n          savings: new Array(12).fill(0),\n          exportRevenue: new Array(12).fill(0),\n          co2Savings: new Array(12).fill(0)\n        }\n      },\n      loading: false\n    });\n\n    // Calculate performance for each configuration\n    for (let config of configs) {\n      if (hasValidSelections(config.selections)) {\n        await calculateConfigurationPerformance(config);\n      }\n    }\n\n    return configs;\n  };\n\n  const getCostEffectiveSelections = (available) => {\n    const selections = {\n      solar: selectedEquipment.solarPanels ? null : null,\n      heatPump: selectedEquipment.heatPump ? null : null,\n      battery: selectedEquipment.batteryStorage ? null : null,\n    };\n\n    // Select cheapest options (assuming lower price or basic models)\n    if (selectedEquipment.solarPanels && available.solar && available.solar.length > 0) {\n      // Find the most cost-effective solar panel (lowest price if available, otherwise first option)\n      const cheapestSolar = available.solar.reduce((min, panel) => \n        (panel.price && min.price && panel.price < min.price) ? panel : min\n      );\n      selections.solar = cheapestSolar.id;\n    }\n\n    if (selectedEquipment.heatPump && available.heatPump && available.heatPump.length > 0) {\n      // Select most cost-effective heat pump (lowest cost)\n      const cheapestHeatPump = available.heatPump.reduce((min, pump) => \n        (pump.cost && min.cost && pump.cost < min.cost) ? pump : min\n      );\n      selections.heatPump = cheapestHeatPump.id;\n    }\n\n    if (selectedEquipment.batteryStorage && available.battery && available.battery.length > 0) {\n      // Select most cost-effective battery (lowest cost)\n      const cheapestBattery = available.battery.reduce((min, battery) => \n        (battery.cost && min.cost && battery.cost < min.cost) ? battery : min\n      );\n      selections.battery = cheapestBattery.id;\n    }\n\n    return selections;\n  };\n\n  const getEcoFriendlySelections = (available) => {\n    const selections = {\n      solar: selectedEquipment.solarPanels ? null : null,\n      heatPump: selectedEquipment.heatPump ? null : null,\n      battery: selectedEquipment.batteryStorage ? null : null,\n    };\n\n    // Select highest efficiency/performance options\n    if (selectedEquipment.solarPanels && available.solar && available.solar.length > 0) {\n      // Find highest efficiency or power solar panel\n      const bestSolar = available.solar.reduce((best, panel) => \n        (panel.efficiency && best.efficiency && panel.efficiency > best.efficiency) ? panel : \n        (panel.ratedPowerPerPanel && best.ratedPowerPerPanel && panel.ratedPowerPerPanel > best.ratedPowerPerPanel) ? panel : best\n      );\n      selections.solar = bestSolar.id;\n    }\n\n    if (selectedEquipment.heatPump && available.heatPump && available.heatPump.length > 0) {\n      // Select highest COP heat pump\n      const bestHeatPump = available.heatPump.reduce((best, pump) => \n        (pump.cop && best.cop && pump.cop > best.cop) ? pump : best\n      );\n      selections.heatPump = bestHeatPump.id;\n    }\n\n    if (selectedEquipment.batteryStorage && available.battery && available.battery.length > 0) {\n      // Select largest capacity battery\n      const bestBattery = available.battery.reduce((best, battery) => \n        (battery.capacityKwh && best.capacityKwh && battery.capacityKwh > best.capacityKwh) ? battery : best\n      );\n      selections.battery = bestBattery.id;\n    }\n\n    return selections;\n  };\n\n  const getBalancedSelections = (available) => {\n    const selections = {\n      solar: selectedEquipment.solarPanels ? null : null,\n      heatPump: selectedEquipment.heatPump ? null : null,\n      battery: selectedEquipment.batteryStorage ? null : null,\n    };\n\n    // Select middle-range options (good balance of cost and performance)\n    if (selectedEquipment.solarPanels && available.solar && available.solar.length > 0) {\n      const sortedSolar = [...available.solar].sort((a, b) => \n        (a.price || 0) - (b.price || 0)\n      );\n      const middleIndex = Math.floor(sortedSolar.length / 2);\n      selections.solar = sortedSolar[middleIndex].id;\n    }\n\n    if (selectedEquipment.heatPump && available.heatPump && available.heatPump.length > 0) {\n      const sortedHeatPumps = [...available.heatPump].sort((a, b) => \n        (a.cost || 0) - (b.cost || 0)\n      );\n      const middleIndex = Math.floor(sortedHeatPumps.length / 2);\n      selections.heatPump = sortedHeatPumps[middleIndex].id;\n    }\n\n    if (selectedEquipment.batteryStorage && available.battery && available.battery.length > 0) {\n      const sortedBatteries = [...available.battery].sort((a, b) => \n        (a.cost || 0) - (b.cost || 0)\n      );\n      const middleIndex = Math.floor(sortedBatteries.length / 2);\n      selections.battery = sortedBatteries[middleIndex].id;\n    }\n\n    return selections;\n  };\n\n  const hasValidSelections = (selections) => {\n    return Object.values(selections).some(selection => selection !== null && selection !== '');\n  };\n\n  const calculateConfigurationPerformance = async (config) => {\n    try {\n      const calculationRequest = {\n        hasSolarPanels: Boolean(selectedEquipment.solarPanels),\n        hasHeatPump: Boolean(selectedEquipment.heatPump),\n        hasBattery: Boolean(selectedEquipment.batteryStorage),\n        solarPanelTypeIds: config.selections.solar ? [Number(config.selections.solar)] : [],\n        heatPumpTypeIds: config.selections.heatPump ? [Number(config.selections.heatPump)] : [],\n        batteryIds: config.selections.battery ? [Number(config.selections.battery)] : [],\n        houseArea: Number(userData.houseArea) || 120,\n        occupants: Number(userData.occupants) || 3,\n        roofArea: Number(userData.roofArea) || 60,  // Increased from 30 to 60 sq meters\n        latitude: Number(userData.latitude) || 51.5,\n        longitude: Number(userData.longitude) || -0.1,\n        annualElectricityUsageKwh: Number(userData.annualElectricityUsage) || 3500,\n        annualGasUsageKwh: Number(userData.annualGasUsage) || 18000,\n        monthlyElectricityUsageKwh: Number(userData.monthlyElectricityUsage) || 290,\n        homeOccupancyFactor: Number(userData.homeOccupancyFactor) || 0.6,\n        electricityRate: Number(userData.electricityRate) || 25,  // Pence per kWh\n        gasRate: Number(userData.gasRate) || 8,     // Pence per kWh\n        exportRate: Number(userData.exportRate) || 15,  // Pence per kWh\n        peakElectricityRate: Number(userData.peakElectricityRate) || 35,\n        offPeakElectricityRate: Number(userData.offPeakElectricityRate) || 12,\n        solarInstallationComplexity: Number(userData.solarInstallationComplexity) || 1.2,\n        heatPumpInstallationComplexity: Number(userData.heatPumpInstallationComplexity) || 1.5,\n        batteryInstallationComplexity: Number(userData.batteryInstallationComplexity) || 1.1,\n      };\n\n      console.log('Sending calculation request:', calculationRequest); // Debug log\n\n      const response = await getEquipmentComparison(calculationRequest);\n      const result = response.data;\n      console.log('Received calculation result:', result); // Debug log\n      config.calculations = processCalculationResult(result);\n    } catch (error) {\n      console.error('Error calculating configuration performance:', error);\n    }\n  };\n\n  const createEmptyConfiguration = (configNumber) => ({\n    id: configNumber,\n    name: `Configuration ${configNumber}`,\n    selections: {\n      solar: selectedEquipment.solarPanels ? '' : null,\n      heatPump: selectedEquipment.heatPump ? '' : null,\n      battery: selectedEquipment.batteryStorage ? '' : null,\n    },\n    calculations: {\n      installationCost: 0,\n      annualGeneration: 0,\n      annualSavings: 0,\n      annualExportRevenue: 0,\n      annualCO2Savings: 0,\n      paybackPeriod: 0,\n      monthlyData: {\n        generation: new Array(12).fill(0),\n        savings: new Array(12).fill(0),\n        exportRevenue: new Array(12).fill(0),\n        co2Savings: new Array(12).fill(0)\n      }\n    },\n    loading: false\n  });\n\n  const handleEquipmentChange = async (configId, equipmentType, equipmentId) => {\n    // Update the selection\n    setConfigurations(prev => prev.map(config => {\n      if (config.id === configId) {\n        return {\n          ...config,\n          selections: {\n            ...config.selections,\n            [equipmentType]: equipmentId\n          },\n          loading: true\n        };\n      }\n      return config;\n    }));\n\n    // Recalculate for this configuration\n    await recalculateConfiguration(configId, equipmentType, equipmentId);\n  };\n\n  const recalculateConfiguration = async (configId, changedEquipmentType, changedEquipmentId) => {\n    try {\n      const config = configurations.find(c => c.id === configId);\n      if (!config) return;\n\n      // Update the changed selection\n      const updatedSelections = {\n        ...config.selections,\n        [changedEquipmentType]: changedEquipmentId\n      };\n\n      // Build request for calculation\n      const calculationRequest = {\n        hasSolarPanels: Boolean(selectedEquipment.solarPanels),\n        hasHeatPump: Boolean(selectedEquipment.heatPump),\n        hasBattery: Boolean(selectedEquipment.batteryStorage),\n        solarPanelTypeIds: updatedSelections.solar ? [Number(updatedSelections.solar)] : [],\n        heatPumpTypeIds: updatedSelections.heatPump ? [Number(updatedSelections.heatPump)] : [],\n        batteryIds: updatedSelections.battery ? [Number(updatedSelections.battery)] : [],\n        houseArea: Number(userData.houseArea) || 120,\n        occupants: Number(userData.occupants) || 3,\n        roofArea: Number(userData.roofArea) || 60,  // Increased from 30 to 60 sq meters\n        latitude: Number(userData.latitude) || 51.5,\n        longitude: Number(userData.longitude) || -0.1,\n        annualElectricityUsageKwh: Number(userData.annualElectricityUsage) || 3500,\n        annualGasUsageKwh: Number(userData.annualGasUsage) || 18000,\n        monthlyElectricityUsageKwh: Number(userData.monthlyElectricityUsage) || 290,\n        homeOccupancyFactor: Number(userData.homeOccupancyFactor) || 0.6,\n        electricityRate: Number(userData.electricityRate) || 25,  // Pence per kWh\n        gasRate: Number(userData.gasRate) || 8,     // Pence per kWh\n        exportRate: Number(userData.exportRate) || 15,  // Pence per kWh\n        peakElectricityRate: Number(userData.peakElectricityRate) || 35,\n        offPeakElectricityRate: Number(userData.offPeakElectricityRate) || 12,\n        solarInstallationComplexity: Number(userData.solarInstallationComplexity) || 1.2,\n        heatPumpInstallationComplexity: Number(userData.heatPumpInstallationComplexity) || 1.5,\n        batteryInstallationComplexity: Number(userData.batteryInstallationComplexity) || 1.1,\n      };\n\n      const response = await getEquipmentComparison(calculationRequest);\n      const result = response.data;\n      const calculations = processCalculationResult(result);\n      \n      setConfigurations(prev => prev.map(config => {\n        if (config.id === configId) {\n          return {\n            ...config,\n            selections: updatedSelections,\n            calculations,\n            loading: false\n          };\n        }\n        return config;\n      }));\n    } catch (error) {\n      console.error('Error recalculating configuration:', error);\n      setConfigurations(prev => prev.map(config => {\n        if (config.id === configId) {\n          return { ...config, loading: false };\n        }\n        return config;\n      }));\n    }\n  };\n\n  const processCalculationResult = (result) => {\n    let totalCost = 0;\n    let totalGeneration = 0;\n    let totalSavings = 0;\n    let totalExportRevenue = 0;\n    let totalCO2Savings = 0;\n    const monthlyGeneration = new Array(12).fill(0);\n    const monthlySavings = new Array(12).fill(0);\n    const monthlyExportRevenue = new Array(12).fill(0);\n    const monthlyCO2Savings = new Array(12).fill(0);\n\n    // Aggregate data from all equipment types\n    [...(result.solarPanelOptions || []), ...(result.heatPumpOptions || []), ...(result.batteryOptions || [])].forEach(option => {\n      totalCost += option.installationCost || 0;\n      totalGeneration += option.annualGeneration || 0;\n      totalSavings += option.annualCostSavings || 0;\n      totalExportRevenue += option.annualExportRevenue || 0;\n      totalCO2Savings += option.annualTotalCO2Savings || 0;\n\n      // Aggregate monthly data\n      if (option.monthlyGeneration) {\n        option.monthlyGeneration.forEach((value, index) => {\n          monthlyGeneration[index] += value || 0;\n        });\n      }\n      if (option.monthlyCostSavings) {\n        option.monthlyCostSavings.forEach((value, index) => {\n          monthlySavings[index] += value || 0;\n        });\n      }\n      if (option.monthlyExportRevenue) {\n        option.monthlyExportRevenue.forEach((value, index) => {\n          monthlyExportRevenue[index] += value || 0;\n        });\n      }\n      if (option.monthlyDirectCO2Savings && option.monthlyIndirectCO2Savings) {\n        option.monthlyDirectCO2Savings.forEach((direct, index) => {\n          const indirect = option.monthlyIndirectCO2Savings[index] || 0;\n          monthlyCO2Savings[index] += (direct || 0) + indirect;\n        });\n      }\n    });\n\n    const paybackPeriod = (totalSavings + totalExportRevenue) > 0 ? \n      totalCost / (totalSavings + totalExportRevenue) : 999;\n\n    return {\n      installationCost: totalCost,\n      annualGeneration: totalGeneration,\n      annualSavings: totalSavings,\n      annualExportRevenue: totalExportRevenue,\n      annualCO2Savings: totalCO2Savings,\n      paybackPeriod: paybackPeriod,\n      monthlyData: {\n        generation: monthlyGeneration,\n        savings: monthlySavings,\n        exportRevenue: monthlyExportRevenue,\n        co2Savings: monthlyCO2Savings\n      }\n    };\n  };\n\n  const addConfiguration = () => {\n    const newId = Math.max(...configurations.map(c => c.id)) + 1;\n    setConfigurations(prev => [...prev, createEmptyConfiguration(newId)]);\n  };\n\n  const removeConfiguration = (configId) => {\n    if (configurations.length > 1) {\n      setConfigurations(prev => prev.filter(c => c.id !== configId));\n    }\n  };\n\n  const showMonthlyChart = (config, dataType, title) => {\n    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', \n                   'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    \n    let monthlyData = [];\n    switch (dataType) {\n      case 'generation':\n        monthlyData = config.calculations.monthlyData.generation;\n        break;\n      case 'savings':\n        monthlyData = config.calculations.monthlyData.savings;\n        break;\n      case 'exportRevenue':\n        monthlyData = config.calculations.monthlyData.exportRevenue;\n        break;\n      case 'co2Savings':\n        monthlyData = config.calculations.monthlyData.co2Savings;\n        break;\n      default:\n        monthlyData = [];\n    }\n\n    const chartData = {\n      labels: months,\n      datasets: [{\n        label: title,\n        data: monthlyData,\n        borderColor: getChartColor(dataType),\n        backgroundColor: getChartColor(dataType) + '20',\n        tension: 0.4,\n        fill: true\n      }]\n    };\n\n    const chartOptions = {\n      responsive: true,\n      plugins: {\n        legend: { position: 'top' },\n        title: { display: true, text: `${config.name} - ${title}` }\n      },\n      scales: {\n        y: { beginAtZero: true }\n      }\n    };\n\n    setShowChart({\n      visible: true,\n      data: chartData,\n      options: chartOptions,\n      title: `${config.name} - ${title}`\n    });\n  };\n\n  const getChartColor = (dataType) => {\n    const colors = {\n      generation: '#3498db',\n      savings: '#27ae60',\n      exportRevenue: '#f39c12',\n      co2Savings: '#e74c3c'\n    };\n    return colors[dataType] || '#34495e';\n  };\n\n  const formatCurrency = (value) => {\n    return value ? `£${Math.round(value).toLocaleString()}` : '£0';\n  };\n\n  const formatNumber = (value, unit = '') => {\n    return value ? `${Math.round(value).toLocaleString()}${unit}` : `0${unit}`;\n  };\n\n  const getEquipmentName = (equipmentType, equipmentId) => {\n    if (!equipmentId || !availableEquipment[equipmentType]) return '';\n    const equipment = availableEquipment[equipmentType].find(e => e.id == equipmentId);\n    return equipment ? equipment.name : '';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"configuration-comparison-loading\">\n        <h3>Loading Equipment Options...</h3>\n        <p>Generating recommended configurations for you.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"configuration-comparison\">\n      <div className=\"configuration-table-container\">\n        <table className=\"configuration-table\">\n          <thead>\n            <tr>\n              <th>Configuration Name</th>\n              {selectedEquipment.solarPanels && <th>Solar Panels</th>}\n              {selectedEquipment.heatPump && <th>Heat Pump</th>}\n              {selectedEquipment.batteryStorage && <th>Battery Storage</th>}\n              <th>\n                {totalSubsidyAmount > 0 ? 'Net Installation Cost' : 'Installation Cost'}\n                {totalSubsidyAmount > 0 && (\n                  <div className=\"cost-header-note\">\n                    (after £{totalSubsidyAmount.toFixed(0)} subsidy)\n                  </div>\n                )}\n              </th>\n              <th \n                className=\"clickable-header\" \n                onClick={() => showMonthlyChart('generation', 'Monthly Generation (kWh)', 'monthlyGeneration')}\n                title=\"Click to view monthly breakdown\"\n              >\n                Annual Generation\n              </th>\n              <th \n                className=\"clickable-header\"\n                onClick={() => showMonthlyChart('savings', 'Monthly Savings (£)', 'monthlySavings')}\n                title=\"Click to view monthly breakdown\"\n              >\n                Annual Savings\n              </th>\n              <th \n                className=\"clickable-header\"\n                onClick={() => showMonthlyChart('exportRevenue', 'Monthly Export Revenue (£)', 'monthlyExportRevenue')}\n                title=\"Click to view monthly breakdown\"\n              >\n                Annual Export Revenue\n              </th>\n              <th \n                className=\"clickable-header\"\n                onClick={() => showMonthlyChart('co2Savings', 'Monthly CO₂ Savings (kg)', 'monthlyCo2Savings')}\n                title=\"Click to view monthly breakdown\"\n              >\n                Annual CO₂ Savings\n              </th>\n              <th>Payback Period</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {configurations.map(config => (\n              <tr key={config.id} className={config.loading ? 'loading-row' : ''}>\n                <td>\n                  <input \n                    type=\"text\" \n                    value={config.name}\n                    onChange={(e) => {\n                      setConfigurations(prev => prev.map(c => \n                        c.id === config.id ? { ...c, name: e.target.value } : c\n                      ));\n                    }}\n                    className=\"config-name-input\"\n                  />\n                </td>\n                \n                {selectedEquipment.solarPanels && (\n                  <td>\n                    <select \n                      value={config.selections.solar || ''}\n                      onChange={(e) => handleEquipmentChange(config.id, 'solar', e.target.value)}\n                      className=\"equipment-select\"\n                    >\n                      <option value=\"\">Please select...</option>\n                      {availableEquipment.solar?.map(panel => (\n                        <option key={panel.id} value={panel.id}>\n                          {panel.name} ({panel.ratedPowerPerPanel}W)\n                        </option>\n                      ))}\n                    </select>\n                  </td>\n                )}\n                \n                {selectedEquipment.heatPump && (\n                  <td>\n                    <select \n                      value={config.selections.heatPump || ''}\n                      onChange={(e) => handleEquipmentChange(config.id, 'heatPump', e.target.value)}\n                      className=\"equipment-select\"\n                    >\n                      <option value=\"\">Please select...</option>\n                      {availableEquipment.heatPump?.map(heatPump => (\n                        <option key={heatPump.id} value={heatPump.id}>\n                          {heatPump.name} (COP: {heatPump.cop})\n                        </option>\n                      ))}\n                    </select>\n                  </td>\n                )}\n                \n                {selectedEquipment.batteryStorage && (\n                  <td>\n                    <select \n                      value={config.selections.battery || ''}\n                      onChange={(e) => handleEquipmentChange(config.id, 'battery', e.target.value)}\n                      className=\"equipment-select\"\n                    >\n                      <option value=\"\">Please select...</option>\n                      {availableEquipment.battery?.map(battery => (\n                        <option key={battery.id} value={battery.id}>\n                          {battery.name} ({battery.capacityKwh}kWh)\n                        </option>\n                      ))}\n                    </select>\n                  </td>\n                )}\n                \n                <td>{config.loading ? 'Calculating...' : formatInstallationCostWithSubsidy(config.calculations.installationCost)}</td>\n                \n                <td \n                  className=\"clickable-cell\"\n                  onClick={() => !config.loading && showMonthlyChart(config, 'generation', 'Monthly Generation (kWh)')}\n                >\n                  {config.loading ? 'Calculating...' : formatNumber(config.calculations.annualGeneration, ' kWh')}\n                </td>\n                \n                <td \n                  className=\"clickable-cell\"\n                  onClick={() => !config.loading && showMonthlyChart(config, 'savings', 'Monthly Savings (£)')}\n                >\n                  {config.loading ? 'Calculating...' : formatCurrency(config.calculations.annualSavings)}\n                </td>\n                \n                <td \n                  className=\"clickable-cell\"\n                  onClick={() => !config.loading && showMonthlyChart(config, 'exportRevenue', 'Monthly Export Revenue (£)')}\n                >\n                  {config.loading ? 'Calculating...' : formatCurrency(config.calculations.annualExportRevenue)}\n                </td>\n                \n                <td \n                  className=\"clickable-cell\"\n                  onClick={() => !config.loading && showMonthlyChart(config, 'co2Savings', 'Monthly CO₂ Savings (kg)')}\n                >\n                  {config.loading ? 'Calculating...' : formatNumber(config.calculations.annualCO2Savings, ' kg')}\n                </td>\n                \n                <td>{config.loading ? 'Calculating...' : formatNumber(config.calculations.paybackPeriod, ' years')}</td>\n                \n                <td>\n                  <button \n                    className=\"btn-remove\" \n                    onClick={() => removeConfiguration(config.id)}\n                    disabled={configurations.length <= 1}\n                    title=\"Remove configuration\"\n                  >\n                    ×\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      <div className=\"table-actions\">\n        <button className=\"btn btn-secondary\" onClick={addConfiguration}>\n          + Add Custom Configuration\n        </button>\n        <span className=\"table-hint\">\n           The first 3 are our recommendations. Modify them or add your own configurations.\n        </span>\n      </div>\n\n      {/* Monthly Chart Modal */}\n      {showChart.visible && (\n        <div className=\"chart-modal-overlay\" onClick={() => setShowChart({ visible: false, data: null, title: '' })}>\n          <div className=\"chart-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"chart-modal-header\">\n              <h4>{showChart.title}</h4>\n              <button \n                className=\"chart-close-button\"\n                onClick={() => setShowChart({ visible: false, data: null, title: '' })}\n              >\n                ×\n              </button>\n            </div>\n            <div className=\"chart-container\">\n              <Line data={showChart.data} options={showChart.options} />\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"comparison-actions\">\n        <button className=\"btn btn-secondary\" onClick={onBack}>\n          Back to Equipment Selection\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ConfigurationComparison; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}